(function(e){function t(t){for(var i,n,o=t[0],l=t[1],c=t[2],d=0,h=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&h.push(r[n][0]),r[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(h.length)h.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(i=!1)}i&&(s.splice(t--,1),e=n(n.s=a[0]))}return e}var i={},r={app:0},s=[];function n(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=i,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/solaris-galaxy-editor/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"00d6":function(e,t,a){e.exports=a.p+"img/radar-dish.60a37f06.svg"},"0be0":function(e,t,a){},"0f8e":function(e,t,a){e.exports=a.p+"img/cyborg-face.b3621baa.svg"},"11a5":function(e,t,a){e.exports=a.p+"img/astronaut-helmet.ecbf921e.svg"},1230:function(e,t,a){e.exports=a.p+"img/tesla-turret.9f12f7b6.svg"},1457:function(e,t,a){e.exports=a.p+"img/robot-leg.dce9f8d1.svg"},"163a":function(e,t,a){e.exports=a.p+"img/missile-mech.ee9634da.svg"},"16c3":function(e,t,a){e.exports=a.p+"img/jetpack.48c8a307.svg"},"177b":function(e,t,a){e.exports=a.p+"img/walking-scout.a34e71d8.svg"},1799:function(e,t,a){e.exports=a.p+"img/airtight-hatch.3be51ed5.svg"},1958:function(e,t,a){e.exports=a.p+"img/spaceship.872c2040.svg"},"1ba0":function(e,t,a){e.exports=a.p+"img/afterburn.e2a31b5d.svg"},"1bca":function(e,t,a){},"1dfc":function(e,t,a){},"21a5":function(e,t,a){var i={"./afterburn.svg":"1ba0","./airtight-hatch.svg":"1799","./alien-bug.svg":"d42e","./alien-egg.svg":"5f96","./alien-stare.svg":"327c","./android-mask.svg":"dd34","./astronaut-helmet.svg":"11a5","./autogun.svg":"aeeb","./bolter-gun.svg":"d912","./bubble-field.svg":"62f4","./cannister.svg":"fe92","./cryo-chamber.svg":"869b","./cyborg-face.svg":"0f8e","./defense-satellite.svg":"5605","./double-ringed-orb.svg":"ea96","./eclipse.svg":"e058","./energise.svg":"c715","./energy-tank.svg":"d1f5","./forward-field.svg":"b102","./habitat-dome.svg":"3bb4","./hazmat-suit.svg":"7124","./jet-fighter.svg":"6d2f","./jetpack.svg":"16c3","./klingon.svg":"98f3","./laser-blast.svg":"a6c7","./laser-turret.svg":"eeea","./light-sabers.svg":"620c","./lunar-module.svg":"53d9","./mecha-head.svg":"777b","./mecha-mask.svg":"a208","./mechanical-arm.svg":"fe7c","./megabot.svg":"a697","./metal-scales.svg":"d86f","./metroid.svg":"c607","./missile-mech.svg":"163a","./missile-pod.svg":"c836","./missile-swarm.svg":"80b2","./mono-wheel-robot.svg":"5225","./observatory.svg":"b3c1","./pirate.svg":"5cf8","./power-generator.svg":"5eb0","./radar-dish.svg":"00d6","./ray-gun.svg":"61cd","./ringed-planet.svg":"64a5","./robot-golem.svg":"dfe6","./robot-leg.svg":"1457","./rocket-flight.svg":"7222","./rocket-thruster.svg":"e3b6","./rocket.svg":"d9f0","./round-silo.svg":"4746","./sattelite.svg":"65bd","./sentry-gun.svg":"e908","./sinusoidal-beam.svg":"27e5","./solar-system.svg":"4677","./space-suit.svg":"e017","./spaceship.svg":"1958","./spoutnik.svg":"6b38","./star-gate.svg":"f957","./starfighter.svg":"8ce3","./strafe.svg":"b56b","./targeting.svg":"d318","./techno-heart.svg":"a56e","./tesla-turret.svg":"1230","./ufo.svg":"4312","./vintage-robot.svg":"757d","./walking-scout.svg":"177b","./zat-gun.svg":"7ee7"};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=s,e.exports=r,r.id="21a5"},"261e":function(e,t,a){},"27e5":function(e,t,a){e.exports=a.p+"img/sinusoidal-beam.c8daefad.svg"},"327c":function(e,t,a){e.exports=a.p+"img/alien-stare.6adfaa5e.svg"},"3bb4":function(e,t,a){e.exports=a.p+"img/habitat-dome.c3c43812.svg"},4312:function(e,t,a){e.exports=a.p+"img/ufo.b91ef7be.svg"},4677:function(e,t,a){e.exports=a.p+"img/solar-system.7703044f.svg"},4746:function(e,t,a){e.exports=a.p+"img/round-silo.d1b40df5.svg"},"47cc":function(e,t,a){e.exports=a.p+"img/128x128_star_black_hole_binary.ba1eb895.svg"},"4f2b":function(e){e.exports=JSON.parse('[{"id":1,"name":"Orbital Array"},{"id":2,"name":"Space Dock"},{"id":3,"name":"Atmosphere Processor"},{"id":4,"name":"Orbital Cannon"},{"id":5,"name":"Warp Scrambler"},{"id":6,"name":"World Builder"},{"id":7,"name":"War Machine"},{"id":8,"name":"Scrambler"},{"id":9,"name":"Demolition Controller"},{"id":10,"name":"Trade Port"},{"id":11,"name":"Research Station"},{"id":12,"name":"Financial Analyst"},{"id":13,"name":"Telescope Array"},{"id":14,"name":"Mineral Extractor"},{"id":15,"name":"Cryo Chamber"},{"id":16,"name":"Stellar Engine"},{"id":17,"name":"Stellar Beacon"},{"id":18,"name":"Star Gate"}]')},5225:function(e,t,a){e.exports=a.p+"img/mono-wheel-robot.3ee1c728.svg"},"53d9":function(e,t,a){e.exports=a.p+"img/lunar-module.446b52fb.svg"},5605:function(e,t,a){e.exports=a.p+"img/defense-satellite.b7d55963.svg"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("7a23");function r(e,t,a,r,s,n){var o=Object(i["n"])("GalaxyEditorContainer");return Object(i["j"])(),Object(i["c"])(o)}var s={id:"galaxyEditorContainer"},n={id:"pixi-app",ref:"pixiApp"};function o(e,t,a,r,o,l){var c=Object(i["n"])("tool-menu"),u=Object(i["n"])("brush-tool"),d=Object(i["n"])("snapper-tool"),h=Object(i["n"])("randomizer-tool"),f=Object(i["n"])("transform-tool"),p=Object(i["n"])("star-tool"),b=Object(i["n"])("json-tool");return Object(i["j"])(),Object(i["e"])("div",s,[Object(i["i"])(c,{galaxyEditor:o.galaxyEditor,onChangeMenu:l.onMenuChanged},null,8,["galaxyEditor","onChangeMenu"]),Object(i["t"])(Object(i["i"])(u,null,null,512),[[i["s"],"brush"===o.currentMenu]]),Object(i["t"])(Object(i["i"])(d,null,null,512),[[i["s"],"snapper"===o.currentMenu]]),Object(i["t"])(Object(i["i"])(h,null,null,512),[[i["s"],"randomizer"===o.currentMenu]]),Object(i["t"])(Object(i["i"])(f,null,null,512),[[i["s"],"transform"===o.currentMenu]]),Object(i["t"])(Object(i["i"])(p,null,null,512),[[i["s"],o.galaxyEditor.selectedStar&&"star"===o.currentMenu]]),Object(i["t"])(Object(i["i"])(b,{galaxyEditor:o.galaxyEditor},null,8,["galaxyEditor"]),[[i["s"],"json"===o.currentMenu]]),Object(i["f"])("div",n,null,512)])}var l=a("b85c"),c=a("d4ec"),u=a("bee2"),d=a("262e"),h=a("2caf"),f=a("ade3"),p=(a("d3b7"),a("b680"),a("a9e3"),a("e9c4"),a("4de4"),a("159b"),a("a434"),a("7db0"),a("94cd")),b=a("b689"),y=a("257e"),m=(a("18a5"),a("99af"),a("faa1")),v=a.n(m),g=a("2909"),O=(a("ac1f"),a("5319"),a("b0c0"),a("4e82"),a("6062"),a("3ca3"),a("ddb0"),a("d81d"),function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,[{key:"getUserPlayer",value:function(e){return e.galaxy.players.find((function(e){return e.userId}))}},{key:"getPlayerByAlias",value:function(e,t){return e.galaxy.players.find((function(e){return e.alias===t}))}},{key:"getPlayerById",value:function(e,t){return e.galaxy.players.find((function(e){return e._id===t}))}},{key:"getPlayerColour",value:function(e,t){var a=this.getPlayerById(e,t);return this.getFriendlyColour(a.colour.value)}},{key:"getFriendlyColour",value:function(e){return e.replace("0x","#")}},{key:"getStarByName",value:function(e,t){return e.galaxy.stars.find((function(e){return e.name===t}))}},{key:"getStarById",value:function(e,t){return e.galaxy.stars.find((function(e){return e._id===t}))}},{key:"getCarrierById",value:function(e,t){return e.galaxy.carriers.find((function(e){return e._id===t}))}},{key:"getStarOwningPlayer",value:function(e,t){return e.galaxy.players.find((function(e){return e._id===t.ownedByPlayerId}))}},{key:"getStarsOwnedByPlayer",value:function(e,t){return t.filter((function(t){return t.ownedByPlayerId&&t.ownedByPlayerId===e._id}))}},{key:"getCarrierOwningPlayer",value:function(e,t){return e.galaxy.players.find((function(e){return e._id===t.ownedByPlayerId}))}},{key:"getCarrierOrbitingStar",value:function(e,t){return e.galaxy.stars.find((function(e){return e._id===t.orbiting}))}},{key:"getCarriersOrbitingStar",value:function(e,t){return e.galaxy.carriers.filter((function(e){return e.orbiting===t._id})).sort((function(e,t){return(e.ticksEta||0)-(t.ticksEta||0)}))}},{key:"isCarrierInTransit",value:function(e){return null==e.orbiting}},{key:"isCarrierInTransitToWaypoint",value:function(e,t){return 0===e.waypoints.indexOf(t)&&this.isCarrierInTransit(e)}},{key:"getStarTotalKnownShips",value:function(e,t){var a=this.getCarriersOrbitingStar(e,t);return(t.ships||0)+a.reduce((function(e,t){return e+(t.ships||0)}),0)}},{key:"getHyperspaceDistance",value:function(e,t,a){var i=t.research.hyperspace.level;return a.specialist&&a.specialist.modifiers.local&&(i+=a.specialist.modifiers.local.hyperspace||0),i=Math.max(1,i),((i||1)+1.5)*e.constants.distances.lightYear}},{key:"getScanningLevelByDistance",value:function(e,t){var a=Math.ceil(t/e.constants.distances.lightYear-1);return a||1}},{key:"getHyperspaceLevelByDistance",value:function(e,t){var a=Math.ceil(t/e.constants.distances.lightYear-1.5);return a||1}},{key:"getDistanceBetweenLocations",value:function(e,t){var a=t.x-e.x,i=t.y-e.y;return a*=a,i*=i,Math.sqrt(a+i)}},{key:"getClosestStar",value:function(e,t){var a,i=e[0],r=Number.MAX_VALUE,s=Object(l["a"])(e);try{for(s.s();!(a=s.n()).done;){var n=a.value,o=this.getDistanceBetweenLocations(n.location,t);o<r&&(r=o,i=n)}}catch(c){s.e(c)}finally{s.f()}return i}},{key:"getClosestPlayerStar",value:function(e,t,a){var i,r=e[0],s=Number.MAX_VALUE,n=this.getStarsOwnedByPlayer(a,e),o=Object(l["a"])(n);try{for(o.s();!(i=o.n()).done;){var c=i.value,u=this.getDistanceBetweenLocations(c.location,t);u<s&&(s=u,r=c)}}catch(d){o.e(d)}finally{o.f()}return r}},{key:"getAngleBetweenLocations",value:function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}},{key:"getPointFromLocation",value:function(e,t,a){return{x:e.x+Math.cos(t)*a,y:e.y+Math.sin(t)*a}}},{key:"getTicksBetweenLocations",value:function(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=0,s=e.settings.specialGalaxy.carrierSpeed*i;t&&t.specialist&&t.specialist.modifiers.local&&(s*=t.specialist.modifiers.local.speed||1);for(var n=1;n<a.length;n++){var o=a[n-1],l=a[n],c=this.getDistanceBetweenLocations(o,l),u=Math.ceil(c/s);r+=u}return r}},{key:"getTicksToProduction",value:function(e,t,a){var i=e.settings.galaxy.productionTicks,r=(a+1)*i-t;return r}},{key:"getCountdownTimeString",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t)return"Unknown";var i=this.getCountdownTime(e,t);return this.getDateToString(i,a)}},{key:"getDateToString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Math.floor(e/864e5),i=Math.floor(e%864e5/36e5),r=Math.floor(e%36e5/6e4),s=Math.floor(e%6e4/1e3);if(s<0)return"Pending...";var n="",o=!1,l=!1;return a>0&&(n+="".concat(a,"d "),o=!0,t&&0===i&&0===r&&0===s)||(o||i>0)&&(n+="".concat(i,"h "),l=!0,t&&0===r&&0===s)||(l||r>0)&&(n+="".concat(r,"m "),t&&0===s)||(n+="".concat(s,"s")),n}},{key:"getCountdownTimeForProductionCycle",value:function(e){var t=this.getTicksToProduction(e,e.state.tick,e.state.productionTick);return this.calculateTimeByTicks(t,e.settings.gameTime.speed,e.state.lastTickDate)}},{key:"getCountdownTimeStringForTurnTimeout",value:function(e){return this.getCountdownTimeString(e,this.getCountdownTimeForTurnTimeout(e))}},{key:"calculateWaypointTicks",value:function(e,t,a){if(a.source===a.destination)return 1+(a.delayTicks||0);var i,r=e.galaxy.stars.find((function(e){return e._id===a.source})),s=e.galaxy.stars.find((function(e){return e._id===a.destination})),n=null==r?t.location:r.location,o=s.location;return t.orbiting||t.waypoints[0]._id!==a._id||(n=t.location),i=r&&r.warpGate&&s.warpGate&&r.ownedByPlayerId&&s.ownedByPlayerId?this.getTicksBetweenLocations(e,t,[n,o],e.constants.distances.warpSpeedMultiplier):this.getTicksBetweenLocations(e,t,[n,o]),i}},{key:"calculateWaypointTicksEta",value:function(e,t,a){for(var i=0,r=0;r<t.waypoints.length;r++){var s=t.waypoints[r];if(i+=this.calculateWaypointTicks(e,t,s),s===a)break}return i}},{key:"canLoop",value:function(e,t,a){if(a.waypoints.length<2)return!1;var i=a.waypoints[0],r=a.waypoints[a.waypoints.length-1],s=this.getStarById(e,i.source),n=this.getStarById(e,r.source);if(null==s||null==n)return!1;var o=this.getDistanceBetweenLocations(s.location,n.location),l=this.getHyperspaceDistance(e,t,a);return o<=l}},{key:"isGamePaused",value:function(e){return e.state.paused}},{key:"isGameFinished",value:function(e){return null!=e.state.endDate}},{key:"isDarkModeStandard",value:function(e){return"standard"===e.settings.specialGalaxy.darkGalaxy}},{key:"isDarkModeExtra",value:function(e){return"extra"===e.settings.specialGalaxy.darkGalaxy}},{key:"isOrbitalMechanicsEnabled",value:function(e){return"enabled"===e.settings.orbitalMechanics.enabled}},{key:"isConquestAllStars",value:function(e){return"conquest"===e.settings.general.mode&&"starPercentage"===e.settings.conquest.victoryCondition}},{key:"isConquestHomeStars",value:function(e){return"conquest"===e.settings.general.mode&&"homeStarPercentage"===e.settings.conquest.victoryCondition}},{key:"getGameStatusText",value:function(e){return this.isGamePendingStart(e)?"Waiting to start":this.isGameInProgress(e)?"In progress":this.isGameFinished(e)?"Finished":this.isGamePaused(e)?"Paused":"Unknown"}},{key:"playerHasLowestTechLevel",value:function(e,t,a){var i=Object(g["a"])(new Set(e.galaxy.players.filter((function(e){return null!=e.research})).map((function(e){return e.research[t].level}))));if(1===i.length)return!1;var r=i.sort((function(e,t){return e-t}))[0];return r===a.research[t].level}},{key:"playerHasHighestTechLevel",value:function(e,t,a){var i=Object(g["a"])(new Set(e.galaxy.players.filter((function(e){return null!=e.research})).map((function(e){return e.research[t].level}))));if(1===i.length)return!1;var r=i.sort((function(e,t){return t-e}))[0];return r===a.research[t].level}},{key:"userPlayerHasHighestTechLevel",value:function(e,t){var a=this.getUserPlayer(e);return this.playerHasHighestTechLevel(e,t,a)}},{key:"userPlayerHasLowestTechLevel",value:function(e,t){var a=this.getUserPlayer(e);return this.playerHasLowestTechLevel(e,t,a)}},{key:"getPlayerStatus",value:function(e){return e.defeated&&!e.afk?"Defeated":e.defeated&&e.afk?"AFK":"Unknown"}},{key:"isNormalAnonymity",value:function(e){return"normal"===e.settings.general.anonymity}},{key:"isHiddenPlayerOnlineStatus",value:function(e){return"hidden"===e.settings.general.playerOnlineStatus}},{key:"isPlayerOnline",value:function(e){return null!=e.isOnline&&!!e.isOnline}},{key:"calculateGalaxyCenterX",value:function(e){var t=this.calculateMinStarX(e),a=this.calculateMaxStarX(e);return t+(a-t)/2}},{key:"calculateGalaxyCenterY",value:function(e){var t=this.calculateMinStarY(e),a=this.calculateMaxStarY(e);return t+(a-t)/2}},{key:"calculateMinStarX",value:function(e){return e.galaxy.stars.length?e.galaxy.stars.sort((function(e,t){return e.location.x-t.location.x}))[0].location.x:0}},{key:"calculateMinStarY",value:function(e){return e.galaxy.stars.length?e.galaxy.stars.sort((function(e,t){return e.location.y-t.location.y}))[0].location.y:0}},{key:"calculateMaxStarX",value:function(e){return e.galaxy.stars.length?e.galaxy.stars.sort((function(e,t){return t.location.x-e.location.x}))[0].location.x:0}},{key:"calculateMaxStarY",value:function(e){return e.galaxy.stars.length?e.galaxy.stars.sort((function(e,t){return t.location.y-e.location.y}))[0].location.y:0}},{key:"calculateMinCarrierX",value:function(e){return e.galaxy.carriers.length?e.galaxy.carriers.sort((function(e,t){return e.location.x-t.location.x}))[0].location.x:0}},{key:"calculateMinCarrierY",value:function(e){return e.galaxy.carriers.length?e.galaxy.carriers.sort((function(e,t){return e.location.y-t.location.y}))[0].location.y:0}},{key:"calculateMaxCarrierX",value:function(e){return e.galaxy.carriers.length?e.galaxy.carriers.sort((function(e,t){return t.location.x-e.location.x}))[0].location.x:0}},{key:"calculateMaxCarrierY",value:function(e){return e.galaxy.carriers.length?e.galaxy.carriers.sort((function(e,t){return t.location.y-e.location.y}))[0].location.y:0}},{key:"isSpecialistsEnabled",value:function(e){return"none"!==e.settings.specialGalaxy.specialistCost}},{key:"isSpecialistsTechnologyEnabled",value:function(e){return"none"!==e.settings.technology.researchCosts.specialists}},{key:"isSpecialistsCurrencyCredits",value:function(e){return this.isSpecialistsEnabled(e)&&"credits"===e.settings.specialGalaxy.specialistsCurrency}},{key:"isSpecialistsCurrencyCreditsSpecialists",value:function(e){return this.isSpecialistsEnabled(e)&&"creditsSpecialists"===e.settings.specialGalaxy.specialistsCurrency}},{key:"getSpecialistName",value:function(e,t){if("carrier"===e)switch(t){case 1:return"mecha-head";case 2:return"mecha-mask";case 3:return"android-mask";case 4:return"hazmat-suit";case 5:return"cyborg-face";case 6:return"lunar-module";case 7:return"spaceship";case 8:return"power-generator";case 9:return"energise";case 10:return"afterburn";case 11:return"strafe";case 12:return"alien-stare";case 13:return"pirate";case 14:return"spoutnik";case 15:return"starfighter";case 16:return"rocket"}else switch(t){case 1:return"sattelite";case 2:return"airtight-hatch";case 3:return"cannister";case 4:return"defense-satellite";case 5:return"habitat-dome";case 6:return"techno-heart";case 7:return"missile-pod";case 8:return"power-generator";case 9:return"space-suit";case 10:return"ringed-planet";case 11:return"observatory";case 12:return"double-ringed-orb";case 13:return"radar-dish";case 14:return"energy-tank";case 15:return"cryo-chamber";case 16:return"rocket-thruster";case 17:return"targeting";case 18:return"star-gate"}}},{key:"getPlayerEmpireCenter",value:function(e,t){var a=this.getStarsOwnedByPlayer(t,e.galaxy.stars);if(!a.length)return null;var i=a.reduce((function(e,t){return e+t.location.x}),0)/a.length,r=a.reduce((function(e,t){return e+t.location.y}),0)/a.length,s=this.getClosestPlayerStar(e.galaxy.stars,{x:i,y:r},t);return s.location}},{key:"getGamePlayerShapesCount",value:function(e){return new Set(Object(g["a"])(e.galaxy.players.map((function(e){return e.shape})))).size}},{key:"isRealTimeGame",value:function(e){return"realTime"===e.settings.gameTime.gameType}},{key:"isTurnBasedGame",value:function(e){return"turnBased"===e.settings.gameTime.gameType}},{key:"isAllUndefeatedPlayersReady",value:function(e){var t=e.galaxy.players.filter((function(e){return!e.defeated}));return t.filter((function(e){return e.ready})).length===t.length}},{key:"gameHasOpenSlots",value:function(e){return!this.isGameFinished(e)&&e.galaxy.players.filter((function(e){return e.isEmptySlot||e.afk})).length>0}},{key:"starInfrastructureUpgraded",value:function(e,t){var a=this.getUserPlayer(e);a.credits-=t.cost,null!=t.currentResearchTicksEta&&(a.currentResearchTicksEta=t.currentResearchTicksEta),null!=t.nextResearchTicksEta&&(a.nextResearchTicksEta=t.nextResearchTicksEta);var i=this.getStarById(e,t.starId);if(i.upgradeCosts[t.type]=t.nextCost,i.infrastructure[t.type]=t.infrastructure,t.manufacturing){var r=+t.manufacturing-i.manufacturing;i.manufacturing=+t.manufacturing.toFixed(2),a.stats.newShips=+(a.stats.newShips+r).toFixed(2)}switch(t.type){case"economy":a.stats.totalEconomy++;break;case"industry":a.stats.totalIndustry++;break;case"science":a.stats.totalScience++;break}return i}},{key:"isDeadStar",value:function(e){return null!=e.naturalResources&&e.naturalResources<=0}},{key:"isInGuild",value:function(e,t){return e.members.find((function(e){return e._id===t}))||e.officers.find((function(e){return e._id===t}))||e.leader&&e.leader._id===t}},{key:"isUserSpectatingGame",value:function(e){return this.isGameInProgress(e)&&!this.getUserPlayer(e)}},{key:"_getBankingCredits",value:function(e,t){var a=e.settings.technology.startingTechnologyLevel["banking"]>0;if(!a||!t.stats.totalStars)return 0;var i=t.research.banking.level;switch(e.settings.technology.bankingReward){case"standard":return Math.round(75*i+.15*i*t.stats.totalEconomy);case"legacy":return 75*i}}},{key:"_getUpkeepCosts",value:function(e,t){var a={none:0,cheap:1,standard:3,expensive:6},i=a[e.settings.specialGalaxy.carrierUpkeepCost];return i?t.stats.totalCarriers*i:0}},{key:"calculateIncome",value:function(e,t){var a=10*t.stats.totalEconomy,i=this._getUpkeepCosts(e,t);return a-i+this._getBankingCredits(e,t)}}]),e}()),x=new O,S=function(){function e(){Object(c["a"])(this,e),Object(f["a"])(this,"DEFAULT_FONT_STYLE",null),Object(f["a"])(this,"STARLESS_NEBULA_TEXTURES",[]),Object(f["a"])(this,"NEBULA_TEXTURES",[]),Object(f["a"])(this,"SPECIALIST_TEXTURES",{}),Object(f["a"])(this,"STAR_SYMBOLS",{}),Object(f["a"])(this,"STAR_MODIFIERS",{})}return Object(u["a"])(e,[{key:"initialize",value:function(){this._loadStarSymbols(),this._loadStarModifiers(),this.DEFAULT_FONT_STYLE=new p["j"]({fontFamily:"'Arial'",fill:16777215,padding:3}),this.DEFAULT_FONT_STYLE_BOLD=new p["j"]({fontFamily:"'Space Mono', monospace",fill:16777215,fontWeight:"bold",padding:3}),this.DEFAULT_FONT_BITMAP=p["c"].from("Arial",this.DEFAULT_FONT_STYLE,{chars:p["c"].ASCII,resolution:2}),this.DEFAULT_FONT_BITMAP.pageTextures[0].baseTexture.mipmap=0,this.DEFAULT_FONT_BITMAP.pageTextures[1].baseTexture.mipmap=0,this.DEFAULT_FONT_BOLD_BITMAP=p["c"].from("space-mono-bold",this.DEFAULT_FONT_STYLE_BOLD,{chars:p["c"].ASCII,resolution:2}),this.DEFAULT_FONT_BOLD_BITMAP.pageTextures[0].baseTexture.mipmap=0,this.DEFAULT_FONT_BOLD_BITMAP.pageTextures[1].baseTexture.mipmap=0,this._loadSpecialistTexture("mecha-head"),this._loadSpecialistTexture("mecha-mask"),this._loadSpecialistTexture("android-mask"),this._loadSpecialistTexture("hazmat-suit"),this._loadSpecialistTexture("cyborg-face"),this._loadSpecialistTexture("lunar-module"),this._loadSpecialistTexture("spaceship"),this._loadSpecialistTexture("power-generator"),this._loadSpecialistTexture("energise"),this._loadSpecialistTexture("sattelite"),this._loadSpecialistTexture("airtight-hatch"),this._loadSpecialistTexture("cannister"),this._loadSpecialistTexture("defense-satellite"),this._loadSpecialistTexture("habitat-dome"),this._loadSpecialistTexture("techno-heart"),this._loadSpecialistTexture("missile-pod"),this._loadSpecialistTexture("space-suit"),this._loadSpecialistTexture("strafe"),this._loadSpecialistTexture("ringed-planet"),this._loadSpecialistTexture("observatory"),this._loadSpecialistTexture("alien-stare"),this._loadSpecialistTexture("afterburn"),this._loadSpecialistTexture("pirate"),this._loadSpecialistTexture("spoutnik"),this._loadSpecialistTexture("starfighter"),this._loadSpecialistTexture("double-ringed-orb"),this._loadSpecialistTexture("rocket"),this._loadSpecialistTexture("radar-dish"),this._loadSpecialistTexture("energy-tank"),this._loadSpecialistTexture("cryo-chamber"),this._loadSpecialistTexture("rocket-thruster"),this._loadSpecialistTexture("targeting"),this._loadSpecialistTexture("star-gate")}},{key:"_loadStarModifiers",value:function(){this.STAR_MODIFIERS["nebula"]=new p["k"](p["b"].from(a("ed42"))),this.STAR_MODIFIERS["asteroids"]=new p["k"](p["b"].from(a("6b76"))),this.STAR_MODIFIERS["binary"]=new p["k"](p["b"].from(a("7a7e"))),this.STAR_MODIFIERS["blackhole_binary"]=new p["k"](p["b"].from(a("47cc"))),this.STAR_MODIFIERS["wormhole"]=new p["k"](p["b"].from(a("ab22")))}},{key:"_loadStarSymbols",value:function(){this.STAR_SYMBOLS["scannable"]=new p["k"](p["b"].from(a("d044")))}},{key:"_loadSpecialistTexture",value:function(e){this.SPECIALIST_TEXTURES[e]=p["k"].from(a("21a5")("./".concat(e,".svg"))),this.SPECIALIST_TEXTURES[e].baseTexture.mipmap=0}},{key:"getSpecialistTexture",value:function(e,t){var a=x.getSpecialistName(t?"carrier":"star",e);return this.SPECIALIST_TEXTURES[a]}}]),e}(),j=new S,k=function(e){Object(d["a"])(a,e);var t=Object(h["a"])(a);function a(e,i,r,s,n){var o;Object(c["a"])(this,a),o=t.call(this),o.id=a.currentId,a.currentId+=1,o.location=i,o.infrastructure={economy:0,industry:0,science:0},o.warpGate=!1,o.homeStar=!1,o.playerId=-1,o.specialistId=-1,o.wormHoleToStarId=-1,o.isAsteroidField=!1,o.isBinaryStar=!1,o.isBlackHole=!1,o.isNebula=!1,o.isPulsar=!1;var l,u,d,h=Math.round(50*Math.random());(o.naturalResources={economy:h,industry:h,science:h},r)&&(o.id=r.id,a.currentId=r.id+1,o.location=r.location,o.warpGate=r.warpGate,o.homeStar=r.homeStar,o.playerId=null!==(l=r.playerId)&&void 0!==l?l:-1,o.specialistId=null!==(u=r.specialistId)&&void 0!==u?u:-1,o.wormHoleToStarId=null!==(d=r.wormHoleToStarId)&&void 0!==d?d:-1,o.naturalResources=r.naturalResources,r.infrastructure&&(o.infrastructure=r.infrastructure),o.isAsteroidField=r.isAsteroidField,o.isBinaryStar=r.isBinaryStar,o.isBlackHole=r.isBlackHole,o.isNebula=r.isNebula,o.isPulsar=r.isPulsar);return o.app=e,o.container=new p["f"],o.container.position.x=i.x,o.container.position.y=i.y,o.container.interactive=!0,o.container.interactiveChildren=!1,o.container.buttonMode=!0,o.container.hitArea=new p["e"](0,0,32),o.baseScale=1/4,o.container.on("pointerup",o.onClicked.bind(Object(y["a"])(o))),o.container.on("mouseover",o.onMouseOver.bind(Object(y["a"])(o))),o.container.on("mouseout",o.onMouseOut.bind(Object(y["a"])(o))),o.player={},o._updatePlayer(s,n),o._updateGraphics(),o}return Object(u["a"])(a,[{key:"updatePosition",value:function(){this.container.position.x=this.location.x,this.container.position.y=this.location.y}},{key:"_updatePlayer",value:function(e,t){null!==this.playerId&&-1!==this.playerId&&(this.player.colour=e[this.playerId%8],this.player.shape=t[Math.floor(this.playerId/8)])}},{key:"_updateGraphics",value:function(){this.homeStar?(this.container.scale.x=2*this.baseScale,this.container.scale.y=2*this.baseScale):(this.container.scale.x=1*this.baseScale,this.container.scale.y=1*this.baseScale),this._updateStarSprite(),this._updateStarText(),this._updateWarpGateGeometry(),this._updateWormHole(),this._updateWormHoleText(),this._updatePlayerGeometry(),this._updateInfrastructureText(),this._updateNaturalResourcesText(),this._updateSpecialistSprite(),this._updateAsteroidFieldSprite(),this._updateBinaryStarSprite(),this._updateBlackHoleGeometry(),this._updateNebulaSprite(),this._updatePulsarGeometry()}},{key:"_updatePlayerGeometry",value:function(){if(this.playerGeometry&&this.container.removeChild(this.playerGeometry),-1!==this.playerIndex){switch(this.playerGeometry=new p["g"],this.playerGeometry.lineStyle(1,this.player.colour,1),this.player.shape){case"circle":this._drawCircleGeometry();break;case"square":this._drawSquareGeometry();break;case"diamond":this._drawDiamondGeometry();break;case"hexagon":this._drawHexagonGeometry();break}this.playerGeometry.scale.x=3,this.playerGeometry.scale.y=3,this.container.addChild(this.playerGeometry)}}},{key:"_drawCircleGeometry",value:function(){this.playerGeometry.drawCircle(0,0,8)}},{key:"_drawSquareGeometry",value:function(){this.playerGeometry.drawRect(-8,-8,16,16)}},{key:"_drawDiamondGeometry",value:function(){var e=9;this.playerGeometry.moveTo(0,-e),this.playerGeometry.lineTo(-e,0),this.playerGeometry.lineTo(0,e),this.playerGeometry.lineTo(e,0),this.playerGeometry.closePath()}},{key:"_drawHexagonGeometry",value:function(){this.playerGeometry.moveTo(4,-7),this.playerGeometry.lineTo(-4,-7),this.playerGeometry.lineTo(-8,0),this.playerGeometry.lineTo(-4,7),this.playerGeometry.lineTo(4,7),this.playerGeometry.lineTo(8,0),this.playerGeometry.closePath()}},{key:"_updateSpecialistSprite",value:function(){if(this.specialist_sprite&&(this.container.removeChild(this.specialist_sprite),this.specialist_sprite.destroy(),this.specialist_sprite=null),-1!==this.specialistId){var e=j.getSpecialistTexture(this.specialistId,!1);this.specialist_sprite=new p["h"](e),this.specialist_sprite.width=32,this.specialist_sprite.height=32,this.specialist_sprite.position.x=-16,this.specialist_sprite.position.y=-16,this.container.addChild(this.specialist_sprite)}}},{key:"_updateNebulaSprite",value:function(){if(this.nebulaSprite&&(this.container.removeChild(this.nebulaSprite),this.nebulaSprite.destroy(),this.nebulaSprite=null),this.isNebula){var e=j.STAR_MODIFIERS["nebula"];this.nebulaSprite=new p["h"](e),this.nebulaSprite.anchor.set(.5),this.nebulaSprite.width=96,this.nebulaSprite.height=96,this.container.addChild(this.nebulaSprite)}}},{key:"_updateAsteroidFieldSprite",value:function(){if(this.asteroidFieldSprite&&(this.container.removeChild(this.asteroidFieldSprite),this.asteroidFieldSprite.destroy(),this.asteroidFieldSprite=null),this.isAsteroidField){var e=j.STAR_MODIFIERS["asteroids"];this.asteroidFieldSprite=new p["h"](e),this.asteroidFieldSprite.anchor.set(.5),this.asteroidFieldSprite.scale.x=1.5,this.asteroidFieldSprite.scale.y=1.5,this.container.addChild(this.asteroidFieldSprite)}}},{key:"_updateBlackHoleGeometry",value:function(){this.blackHole_geometry&&this.container.removeChild(this.blackHole_geometry),this.isBlackHole&&!this.isBinaryStar&&(this.blackHole_geometry=new p["g"],this.blackHole_geometry.lineStyle(2,0,1),this.blackHole_geometry.beginFill(),this.blackHole_geometry.drawCircle(0,0,6),this.blackHole_geometry.endFill(),this.blackHole_geometry.lineStyle(2,16777215,1),this.blackHole_geometry.drawCircle(0,0,8),this.container.addChild(this.blackHole_geometry))}},{key:"_updateBinaryStarSprite",value:function(){if(this.binaryStarSprite&&(this.container.removeChild(this.binaryStarSprite),this.binaryStarSprite.destroy(),this.binaryStarSprite=null),this.isBinaryStar){var e=j.STAR_MODIFIERS[this.isBlackHole?"blackhole_binary":"binary"];this.binaryStarSprite=new p["h"](e),this.binaryStarSprite.anchor.set(.5),this.binaryStarSprite.width=24,this.binaryStarSprite.height=24,this.container.addChild(this.binaryStarSprite)}}},{key:"_updatePulsarGeometry",value:function(){this.pulsar_geometry&&this.container.removeChild(this.pulsar_geometry),this.isPulsar&&(this.pulsar_geometry=new p["g"],this.pulsar_geometry.lineStyle(1,16777215,.5),this.pulsar_geometry.moveTo(0,-20),this.pulsar_geometry.lineTo(0,20),this.pulsar_geometry.drawEllipse(-5,0,5,5),this.pulsar_geometry.drawEllipse(5,0,5,5),this.pulsar_geometry.drawEllipse(-8,0,8,8),this.pulsar_geometry.drawEllipse(8,0,8,8),this.pulsar_geometry.rotation=Math.random()*Math.PI*2,this.container.addChild(this.pulsar_geometry))}},{key:"_updateWarpGateGeometry",value:function(){this.warpGate_geometry&&this.container.removeChild(this.warpGate_geometry),this.warpGate&&(this.warpGate_geometry=new p["g"],this.warpGate_geometry.lineStyle(2,16777215,1),this.warpGate_geometry.drawCircle(0,0,32),this.container.addChild(this.warpGate_geometry))}},{key:"_updateWormHole",value:function(){this.wormHole_sprite&&this.container.removeChild(this.wormHole_sprite),-1!==this.wormHoleToStarId&&(this.wormHole_sprite=new p["h"](j.STAR_MODIFIERS["wormhole"]),this.wormHole_sprite.anchor.set(.5),this.wormHole_sprite.alpha=.5,this.wormHole_sprite.width=40,this.wormHole_sprite.height=40,this.container.addChild(this.wormHole_sprite))}},{key:"_updateWormHoleText",value:function(){if(this.wormHole_text&&this.container.removeChild(this.wormHole_text),-1!==this.wormHoleToStarId){var e=">".concat(this.wormHoleToStarId);this.wormHole_text=new p["d"](e,a.smallTextAttribs),this.wormHole_text.position.x=12,this.wormHole_text.position.y=-this.wormHole_text.height/2,this.container.addChild(this.wormHole_text)}}},{key:"_updateStarSprite",value:function(){this.star_sprite&&this.container.removeChild(this.star_sprite),this.specialistId>=0||this.isBlackHole||this.isBinaryStar||this.isPulsar||(this.star_sprite=new p["h"](j.STAR_SYMBOLS["scannable"]),this.star_sprite.anchor.set(.5),this.star_sprite.width=12,this.star_sprite.height=12,this.container.addChild(this.star_sprite))}},{key:"_updateStarText",value:function(){this.star_text&&this.container.removeChild(this.star_text);var e="#".concat(this.id);this.star_text=new p["d"](e,a.smallTextAttribs),this.star_text.position.x=-12-this.star_text.width,this.star_text.position.y=-this.star_text.height/2,this.container.addChild(this.star_text)}},{key:"_updateNaturalResourcesText",value:function(){this.naturalResources_text&&this.container.removeChild(this.naturalResources_text);var e="".concat(this.naturalResources.economy," ").concat(this.naturalResources.industry," ").concat(this.naturalResources.science);this.naturalResources_text=new p["d"](e,a.textAttribs),this.naturalResources_text.position.x=-this.naturalResources_text.width/2,this.naturalResources_text.position.y=16,this.container.addChild(this.naturalResources_text)}},{key:"_updateInfrastructureText",value:function(){this.infrastructure_text&&this.container.removeChild(this.infrastructure_text);var e="".concat(this.infrastructure.economy," ").concat(this.infrastructure.industry," ").concat(this.infrastructure.science);this.infrastructure_text=new p["d"](e,a.textAttribs),this.infrastructure_text.position.x=-this.infrastructure_text.width/2,this.infrastructure_text.position.y=-16-this.infrastructure_text.height,this.container.addChild(this.infrastructure_text)}},{key:"onClicked",value:function(e){this.emit("onStarClicked",{star:this,e:e})}},{key:"update",value:function(e,t){this._updatePlayer(e,t),this._updateGraphics()}},{key:"onMouseOver",value:function(e){e=null,e&&console.log(),this.emit("onStarMouseOver",this)}},{key:"onMouseOut",value:function(e){e=null,e&&console.log(),this.emit("onStarMouseOut",this)}},{key:"destroy",value:function(){this.container.destroy()}},{key:"toJSON",value:function(){return{id:this.id,location:this.location,naturalResources:this.naturalResources,warpGate:this.warpGate,homeStar:this.homeStar,isAsteroidField:this.isAsteroidField,isBinaryStar:this.isBinaryStar,isBlackHole:this.isBlackHole,isNebula:this.isNebula,isPulsar:this.isPulsar,playerId:this.playerId>=0?this.playerId:null,specialistId:this.specialistId>=0?this.specialistId:null,wormHoleToStarId:this.wormHoleToStarId>=0?this.wormHoleToStarId:null}}}]),a}(v.a);Object(f["a"])(k,"currentId",0),Object(f["a"])(k,"textAttribs",{fontName:"Arial"}),Object(f["a"])(k,"smallTextAttribs",{fontName:"Arial",fontSize:14});var w=k,T=a("d5d3"),_=function(e){Object(d["a"])(a,e);var t=Object(h["a"])(a);function a(){var e;Object(c["a"])(this,a),e=t.call(this),e.cursor={x:0,y:0},e.stars=new Array,e.selectedStar=null,e.lastSelectedStar=null,e.brushOptions={brushRadius:2,starAmount:3},e.specialists=a.SPECIALISTS,e.playerShapeAndColours=[],e.coloursValues=[],e.shapes=["circle","square","diamond","hexagon"];var i,r=Object(l["a"])(e.shapes);try{for(r.s();!(i=r.n()).done;){var s,n=i.value,o=Object(l["a"])(a.COLOURS);try{for(o.s();!(s=o.n()).done;){var u=s.value,d=u.alias;e.coloursValues.push(u.value),e.playerShapeAndColours.push(d+" "+n)}}catch(h){o.e(h)}finally{o.f()}}}catch(h){r.e(h)}finally{r.f()}return j.initialize(),e.frames=0,e.dtAccum=528,e.lowest=1e3,e.previousDTs=[33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33],e.ma32accum=0,e}return Object(u["a"])(a,[{key:"calcFPS",value:function(){var e=this.app.ticker.elapsedMS;this.frames+=1,this.previousDTs.pop(),this.previousDTs.unshift(e),this.dtAccum=this.previousDTs.reduce((function(e,t){return e+t})),this.ma32accum+=e;var t=this.dtAccum/16,a=1e3/t,i=this.ma32accum/32,r=1e3/e;if(r<this.lowest&&(this.lowest=r),this.fpsNowText&&(this.fpsNowText.text="fps: "+r.toFixed(0)),31==this.frames){var s=1e3/i;this.fpsMAText&&(this.fpsMAText.text="fpsMA: "+a.toFixed(0)),this.fpsMA32Text&&(this.fpsMA32Text.text="fpsMA32: "+s.toFixed(0)),this.jitterText&&(this.jitterText.text="jitter: "+(a-this.lowest).toFixed(0)),this.lowestText&&(this.lowestText.text="lowest: "+this.lowest.toFixed(0)),this.frames=0,this.lowest=1e3,this.ma32accum=0}}},{key:"createPixiApp",value:function(){this.destroy(),this.app=new p["a"]({width:window.innerWidth,height:window.innerHeight,backgroundColor:0,resolution:window.devicePixelRatio||1,antialias:"disabled",autoResize:!0}),this.viewport=new b["a"]({screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:Number.MAX_VALUE,worldHeight:Number.MAX_VALUE,divWheel:this.app.renderer.view,stopPropagation:!0,passiveWheel:!0,interaction:this.app.renderer.plugins.interaction,disableOnContextMenu:!0}),this.setupViewport(),this.viewport.setZoom(2),this._drawPivotStarVisualizer(),this._drawScaleBar(),this._drawTotalStars(),this.app.stage.addChild(this.viewport),this.app.ticker.add(this._onTick.bind(this))}},{key:"destroy",value:function(){this.app&&(this.app.destroy(!1,{children:!0}),this.app=null),this.viewport&&(this.viewport.destroy(),this.viewport=null)}},{key:"zoomIn",value:function(){this.viewport.zoomPercent(.5,!0)}},{key:"zoomOut",value:function(){this.viewport.zoomPercent(-.3,!0)}},{key:"setupViewport",value:function(){this.viewport.drag().pinch().wheel({smooth:5}).decelerate({friction:.9}).clamp({left:this.starFieldLeft,right:this.starFieldRight,top:this.starFieldTop,bottom:this.starFieldBottom}).clampZoom({minWidth:50,minHeight:50,maxWidth:Math.abs(this.starFieldLeft)+Math.abs(this.starFieldRight),maxHeight:Math.abs(this.starFieldBottom)+Math.abs(this.starFieldTop)}),this.viewport.on("clicked",this._onViewportClicked.bind(this))}},{key:"_onViewportClicked",value:function(e){var t=e.event.data.originalEvent.button;console.log(t),this.hoveredStar?(0===t&&(this.selectedStar=this.hoveredStar,this.lastSelectedStar=this.selectedStar,this._updatePivotStarVisualizer(),this.emit("onStarSelected")),2===t&&this.destroyHovered()):(this.selectedStar=null,0===t&&this.addStars(this.cursor),2===t&&this.destroyStars(this.cursor),this.emit("onNothingClicked",this.cursor,t))}},{key:"copyStar",value:function(e,t){var a,i,r,s=this.addStar(t,null);s.warpGate=e.warpGate,s.homeStar=e.homeStar,s.playerId=null!==(a=e.playerId)&&void 0!==a?a:-1,s.specialistId=null!==(i=e.specialistId)&&void 0!==i?i:-1,s.wormHoleToStarId=null!==(r=e.wormHoleToStarId)&&void 0!==r?r:-1,s.infrastructure.economy=e.infrastructure.economy,s.infrastructure.industry=e.infrastructure.industry,s.infrastructure.science=e.infrastructure.science,s.naturalResources.economy=e.naturalResources.economy,s.naturalResources.industry=e.naturalResources.industry,s.naturalResources.science=e.naturalResources.science,s.isAsteroidField=e.isAsteroidField,s.isBlackHole=e.isBlackHole,s.isBinaryStar=e.isBinaryStar,s.isNebula=e.isNebula,s.isPulsar=e.isPulsar,s._updateGraphics()}},{key:"addStar",value:function(e,t){var a=new w(this.app,e,t,this.coloursValues,this.shapes);return a.on("onStarMouseOver",this.onStarMouseOver.bind(this)),a.on("onStarMouseOut",this.onStarMouseOut.bind(this)),this.stars.push(a),this.viewport.addChild(a.container),a}},{key:"addStars",value:function(e){var t=this.brushOptions.starAmount,a=50*this.brushOptions.brushRadius;if(1!==t)for(var i=0;i<t;i++){var r={x:e.x-a+Math.random()*a*2,y:e.y-a+Math.random()*a*2},s=new w(this.app,r);s.on("onStarMouseOver",this.onStarMouseOver.bind(this)),s.on("onStarMouseOut",this.onStarMouseOut.bind(this)),this.stars.push(s),this.viewport.addChild(s.container)}else this.addStar(e)}},{key:"clear",value:function(){this.selectedStar=null;var e,t=Object(l["a"])(this.stars);try{for(t.s();!(e=t.n()).done;){var a=e.value;this.viewport.removeChild(a.container)}}catch(i){t.e(i)}finally{t.f()}this.stars=new Array}},{key:"generateJSON",value:function(){return JSON.stringify({homeStars:this.homeStars,stars:this.stars},null,2)}},{key:"loadFromJSON",value:function(e){this.clear();var t=JSON.parse(e),a=t.stars;try{var i,r=Object(l["a"])(a);try{for(r.s();!(i=r.n()).done;){var s=i.value;if("number"!==typeof s.location.x)return;if("number"!==typeof s.location.y)return;if("boolean"!==typeof s.homeStar)return;if("boolean"!==typeof s.warpGate)return}}catch(u){r.e(u)}finally{r.f()}var n,o=Object(l["a"])(a);try{for(o.s();!(n=o.n()).done;){var c=n.value;this.addStar(c.location,c)}}catch(u){o.e(u)}finally{o.f()}}catch(d){console.error(d)}}},{key:"onMenuChanged",value:function(){this.selectedStar=null}},{key:"onStarMouseOver",value:function(e){this.hoveredStar=e}},{key:"onStarMouseOut",value:function(e){e&&console.log(),this.hoveredStar=null}},{key:"updateSelected",value:function(){this.selectedStar&&this.selectedStar.update(this.coloursValues,this.shapes)}},{key:"destroyStars",value:function(e){var t=this,a=50*this.brushOptions.brushRadius,i=this.stars.filter((function(t){var i=new T(t.location.x,t.location.y),r=new T(e.x,e.y);return i.distance(r)<a}));i.forEach((function(e){var a=t.stars.indexOf(e);a>-1&&t.stars.splice(a,1),t.viewport.removeChild(e.container)}))}},{key:"destroySelected",value:function(){if(this.selectedStar){var e=this.stars.indexOf(this.selectedStar);e>-1&&this.stars.splice(e,1),this.viewport.removeChild(this.selectedStar.container),this.destroyWormHolesToStar(this.selectedStar.id),this.selectedStar=null}}},{key:"updateWormHoleToStarId",value:function(e){var t=this.selectedStar.wormHoleToStarId;if(-1!==t&&this.destroyWormHolesToStar(this.selectedStar.id),-1!==e){var a=this.stars.find((function(t){return t.id===e}));this.destroyWormHolesToStar(e),a.wormHoleToStarId=this.selectedStar.id,a._updateGraphics()}this.selectedStar.wormHoleToStarId=e,this.selectedStar._updateGraphics()}},{key:"destroyHovered",value:function(){var e=this.stars.indexOf(this.hoveredStar);e>-1&&this.stars.splice(e,1),this.viewport.removeChild(this.hoveredStar.container),this.destroyWormHolesToStar(this.hoveredStar.id),this.hoveredStar=null}},{key:"destroyWormHolesToStar",value:function(e){var t,a=Object(l["a"])(this.stars);try{for(a.s();!(t=a.n()).done;){var i=t.value;i.wormHoleToStarId===e&&(i.wormHoleToStarId=-1,i._updateGraphics())}}catch(r){a.e(r)}finally{a.f()}}},{key:"getGalaxyCenter",value:function(){var e,t=0,a=0,i=Object(l["a"])(this.stars);try{for(i.s();!(e=i.n()).done;){var r=e.value;t+=r.location.x,a+=r.location.y}}catch(n){i.e(n)}finally{i.f()}var s=new T(t/this.stars.length,a/this.stars.length);return s}},{key:"_onTick",value:function(){var e=this.viewport.right-this.viewport.left,t=this.viewport.screenWidth/e;this._updateScaleBarScale(t),this._updateStarCountString()}},{key:"draw",value:function(){var e={fontName:"Arial",fontSize:16};this.fpsNowText=new p["d"]("",e),this.fpsMAText=new p["d"]("",e),this.fpsMA32Text=new p["d"]("",e),this.jitterText=new p["d"]("",e),this.lowestText=new p["d"]("",e),this.zoomText=new p["d"]("",e),this.fpsNowText.x=32,this.fpsNowText.y=144,this.fpsMAText.x=32,this.fpsMAText.y=this.fpsNowText.y+32+2,this.fpsMA32Text.x=32,this.fpsMA32Text.y=this.fpsMAText.y+32+2,this.jitterText.x=32,this.jitterText.y=this.fpsMA32Text.y+32+2,this.lowestText.x=32,this.lowestText.y=this.jitterText.y+32+2,this.app.stage.addChild(this.fpsNowText),this.app.stage.addChild(this.jitterText),this.app.stage.addChild(this.lowestText),this.app.stage.addChild(this.fpsMAText),this.app.stage.addChild(this.fpsMA32Text)}},{key:"_drawTotalStars",value:function(){this.totalStarsText=new p["i"]("",{fontFamily:"Arial",fontSize:14,fill:16777215,align:"center"}),this.totalStarsText.position.y=this.totalStarsText.height,this.app.stage.addChild(this.totalStarsText)}},{key:"_drawScaleBar",value:function(){this.scaleText=new p["i"]("1 light year: ",{fontFamily:"Arial",fontSize:14,fill:16777215,align:"center"}),this.app.stage.addChild(this.scaleText),this.scaleBar=new p["g"],this.scaleBar.beginFill(16777215,1),this.scaleBar.drawRect(0,0,a.LIGHT_YEAR_LENGTH,this.scaleText.height/4),this.scaleBar.endFill(),this.scaleBar.position.x=this.scaleText.width,this.scaleBar.position.y=this.scaleText.height/2-this.scaleBar.height/2,this.app.stage.addChild(this.scaleBar)}},{key:"_drawPivotStarVisualizer",value:function(){this.pivotStarVisualizer=new p["g"],this.pivotStarVisualizer.beginFill(16777215,1),this.pivotStarVisualizer.drawRect(-32,-1,24,2),this.pivotStarVisualizer.drawRect(8,-1,24,2),this.pivotStarVisualizer.drawRect(-1,-40,2,24),this.pivotStarVisualizer.drawRect(-1,16,2,24),this.viewport.addChild(this.pivotStarVisualizer)}},{key:"_updateStarCountString",value:function(){this.totalStarsText.text="Amount of stars: "+String(this.stars.length)}},{key:"_updateScaleBarScale",value:function(e){this.scaleBar.scale.x=e}},{key:"_updatePivotStarVisualizer",value:function(){this.pivotStarVisualizer.position.x=this.lastSelectedStar.location.x,this.pivotStarVisualizer.position.y=this.lastSelectedStar.location.y}}]),a}(v.a);Object(f["a"])(_,"COLOURS",a("f0b2")),Object(f["a"])(_,"SPECIALISTS",a("4f2b")),Object(f["a"])(_,"LIGHT_YEAR_LENGTH",50);var R=new _,A=R,E={id:"tool-menus",class:""},C={class:"btn-group-vertical"};function M(e,t,a,r,s,n){return Object(i["j"])(),Object(i["e"])("div",E,[Object(i["f"])("div",C,[Object(i["f"])("button",{onClick:t[0]||(t[0]=function(t){return e.$emit("change-menu","brush")}),class:"btn btn-primary"},"Brush"),Object(i["f"])("button",{onClick:t[1]||(t[1]=function(t){return e.$emit("change-menu","snapper")}),class:"btn btn-primary"},"Snap"),Object(i["f"])("button",{onClick:t[2]||(t[2]=function(t){return e.$emit("change-menu","randomizer")}),class:"btn btn-primary"},"Randomizers"),Object(i["f"])("button",{onClick:t[3]||(t[3]=function(t){return e.$emit("change-menu","transform")}),class:"btn btn-primary"},"Transform"),Object(i["f"])("button",{onClick:t[4]||(t[4]=function(t){return e.$emit("change-menu","json")}),class:"btn btn-primary"},"JSON")])])}var I={data:function(){return{galaxyEditor:A}}},P=(a("88a3"),a("6b0d")),F=a.n(P);const B=F()(I,[["render",M]]);var G=B,H={id:"snapper-tool",class:""},z={class:"container"},N={class:"row"},U=Object(i["f"])("div",{class:"col"},[Object(i["f"])("label",{class:"col-form-label"},"Snap Step Distance")],-1),V={class:"col-6"},L={class:"row"},D=Object(i["f"])("div",{class:"col"},[Object(i["f"])("label",{class:"col-form-label"},"Snap Step Angle")],-1),W={class:"col-6"},Y=Object(i["g"])('<br><div class="row"><div class="col"><p>Hold <i class="text-success">Control</i> to snap the cursor at precise angles and distances. Hold <i class="text-success">Shift</i> to snap the cursor to precise distances.</p><p><i class="text-info">Snap Step Angle</i> controls how many steps a circle is divided. <i class="text-info">Snap Step Distance</i> controls the snap distance from the pivot.</p><p>The <i>pivot</i> for snaping is the last star you placed, or the last star you clicked.</p></div></div>',2);function J(e,t,a,r,s,n){return Object(i["j"])(),Object(i["e"])("div",H,[Object(i["f"])("div",z,[Object(i["f"])("div",N,[U,Object(i["f"])("div",V,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[0]||(t[0]=function(e){return s.snapStepDistance=e})},null,512),[[i["r"],s.snapStepDistance,void 0,{number:!0}]])])]),Object(i["f"])("div",L,[D,Object(i["f"])("div",W,[Object(i["t"])(Object(i["f"])("input",{type:"number",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.snapStepAngle=e})},null,512),[[i["r"],s.snapStepAngle,void 0,{number:!0}]])])]),Y])])}var X=a("d5d3"),q={data:function(){return{galaxyEditor:A,lastClickPosition:{x:0,y:0},snapStepDistance:1,snapStepAngle:6,keyPressed:{Shift:!1,Control:!1}}},methods:{onNothingClicked:function(e){this.lastClickPosition=e},onStarSelected:function(){this.lastClickPosition=this.galaxyEditor.selectedStar.location},onKeyDown:function(e){var t=e.key;"Shift"!==t&&"Control"!==t||(this.keyPressed[t]=!0)},onKeyUp:function(e){var t=e.key;"Shift"!==t&&"Control"!==t||(this.keyPressed[t]=!1)},onPixiTick:function(e){e&&(e=1);var t=this.pixiApp.renderer.plugins.interaction.mouse.global,a=this.galaxyEditor.viewport.toWorld(t),i=new X(a.x,a.y),r=new X(i.x-this.lastClickPosition.x,i.y-this.lastClickPosition.y),s=new X(1,0),n=r.angleTo(s);this.keyPressed["Control"]&&(n/=Math.PI/(this.snapStepAngle/2),n=Math.round(n)*(Math.PI/(this.snapStepAngle/2)));var o=s.rotate(n,!0,!0);o.multiply(50*this.snapStepDistance,!1),o.x+=this.lastClickPosition.x,o.y+=this.lastClickPosition.y,this.snapToSprite.position=o,this.snapToSprite.visible=!(!this.keyPressed["Control"]&&!this.keyPressed["Shift"]),this.galaxyEditor.cursor=this.keyPressed["Control"]||this.keyPressed["Shift"]?o:i}},beforeMount:function(){this.galaxyEditor=A,document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)},mounted:function(){this.galaxyEditor.on("onNothingClicked",this.onNothingClicked.bind(this)),this.galaxyEditor.on("onStarSelected",this.onStarSelected.bind(this)),this.pixiApp=this.galaxyEditor.app,this.snapToSprite=new p["h"](j.STAR_SYMBOLS["scannable"]),this.snapToSprite.width=6,this.snapToSprite.height=6,this.snapToSprite.anchor.set(.5),this.snapToSprite.tint=8421504,this.galaxyEditor.viewport.addChild(this.snapToSprite),this.pixiApp.ticker.add(this.onPixiTick.bind(this))}};a("f719");const K=F()(q,[["render",J]]);var Q=K,Z={key:0,id:"star-attributes"},$={class:"container"},ee={class:"row"},te={class:"col-6 col-form-label"},ae=Object(i["f"])("div",{class:"row"},[Object(i["f"])("label",{class:"col-6 col-form-label"},"Infrastructure")],-1),ie={class:"row"},re=Object(i["f"])("div",{class:"col"},[Object(i["f"])("label",{class:"col-form-label"},"Economy")],-1),se={class:"col-6"},ne={class:"row"},oe=Object(i["f"])("div",{class:"col"},[Object(i["f"])("label",{class:"col-form-label"},"Industry")],-1),le={class:"col-6"},ce={class:"row"},ue=Object(i["f"])("div",{class:"col"},[Object(i["f"])("label",{class:"col-form-label"},"Science")],-1),de={class:"col-6"},he=Object(i["f"])("br",null,null,-1),fe=Object(i["f"])("div",{class:"row"},[Object(i["f"])("label",{class:"col-6 col-form-label"},"Natural Resources")],-1),pe={class:"row"},be=Object(i["f"])("div",{class:"col"},[Object(i["f"])("label",{class:"col-form-label"},"Economy")],-1),ye={class:"col-6"},me={class:"row"},ve=Object(i["f"])("div",{class:"col"},[Object(i["f"])("label",{class:"col-form-label"},"Industry")],-1),ge={class:"col-6"},Oe={class:"row"},xe=Object(i["f"])("div",{class:"col"},[Object(i["f"])("label",{class:"col-form-label"},"Science")],-1),Se={class:"col-6"},je=Object(i["f"])("br",null,null,-1),ke={class:"row"},we={class:"col-auto"},Te={class:"form-check"},_e=Object(i["f"])("label",{class:"form-check-label",for:"warpGateCheck"},"Warp Gate",-1),Re={class:"col-auto"},Ae={class:"form-check"},Ee=Object(i["f"])("label",{class:"form-check-label",for:"homeStarCheck"},"Home Star",-1),Ce={class:"col-auto"},Me={class:"form-check"},Ie=Object(i["f"])("label",{class:"form-check-label",for:"astroidFieldCheck"},"Asteroid Field",-1),Pe={class:"col-auto"},Fe={class:"form-check"},Be=Object(i["f"])("label",{class:"form-check-label",for:"binaryStarCheck"},"Binary Star",-1),Ge={class:"col-auto"},He={class:"form-check"},ze=Object(i["f"])("label",{class:"form-check-label",for:"blackHoleCheck"},"Black Hole",-1),Ne={class:"col-auto"},Ue={class:"form-check"},Ve=Object(i["f"])("label",{class:"form-check-label",for:"nebulaCheck"},"Nebula",-1),Le={class:"col-auto"},De={class:"form-check"},We=Object(i["f"])("label",{class:"form-check-label",for:"pulsarCheck"},"Pulsar",-1),Ye=Object(i["f"])("br",null,null,-1),Je={class:"row"},Xe=Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Player")],-1),qe={class:"col-6"},Ke=Object(i["f"])("option",{value:"-1"},"None",-1),Qe=["value"],Ze={class:"row"},$e=Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Specialist")],-1),et={class:"col-6"},tt=Object(i["f"])("option",{value:"-1"},"None",-1),at=["value"],it={class:"row"},rt=Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Worm Hole to Star")],-1),st={class:"col-6"},nt=Object(i["f"])("option",{value:"-1"},"None",-1),ot=["value","disabled"],lt=Object(i["f"])("br",null,null,-1),ct={class:"row"},ut={class:"col-6"},dt={class:"col-6"};function ht(e,t,a,r,s,n){return s.galaxyEditor.selectedStar?(Object(i["j"])(),Object(i["e"])("div",Z,[Object(i["f"])("div",$,[Object(i["f"])("div",ee,[Object(i["f"])("label",te,"Selected Star #"+Object(i["o"])(s.galaxyEditor.selectedStar.id),1)]),ae,Object(i["f"])("div",ie,[re,Object(i["f"])("div",se,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[0]||(t[0]=function(e){return s.galaxyEditor.selectedStar.infrastructure.economy=e})},null,512),[[i["r"],s.galaxyEditor.selectedStar.infrastructure.economy,void 0,{number:!0}]])])]),Object(i["f"])("div",ne,[oe,Object(i["f"])("div",le,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.galaxyEditor.selectedStar.infrastructure.industry=e})},null,512),[[i["r"],s.galaxyEditor.selectedStar.infrastructure.industry,void 0,{number:!0}]])])]),Object(i["f"])("div",ce,[ue,Object(i["f"])("div",de,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.galaxyEditor.selectedStar.infrastructure.science=e})},null,512),[[i["r"],s.galaxyEditor.selectedStar.infrastructure.science,void 0,{number:!0}]])])]),he,fe,Object(i["f"])("div",pe,[be,Object(i["f"])("div",ye,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[3]||(t[3]=function(e){return s.galaxyEditor.selectedStar.naturalResources.economy=e})},null,512),[[i["r"],s.galaxyEditor.selectedStar.naturalResources.economy,void 0,{number:!0}]])])]),Object(i["f"])("div",me,[ve,Object(i["f"])("div",ge,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[4]||(t[4]=function(e){return s.galaxyEditor.selectedStar.naturalResources.industry=e})},null,512),[[i["r"],s.galaxyEditor.selectedStar.naturalResources.industry,void 0,{number:!0}]])])]),Object(i["f"])("div",Oe,[xe,Object(i["f"])("div",Se,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[5]||(t[5]=function(e){return s.galaxyEditor.selectedStar.naturalResources.science=e})},null,512),[[i["r"],s.galaxyEditor.selectedStar.naturalResources.science,void 0,{number:!0}]])])]),je,Object(i["f"])("div",ke,[Object(i["f"])("div",we,[Object(i["f"])("div",Te,[Object(i["t"])(Object(i["f"])("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=function(e){return s.galaxyEditor.selectedStar.warpGate=e}),id:"warpGateCheck"},null,512),[[i["p"],s.galaxyEditor.selectedStar.warpGate]]),_e])]),Object(i["f"])("div",Re,[Object(i["f"])("div",Ae,[Object(i["t"])(Object(i["f"])("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=function(e){return s.galaxyEditor.selectedStar.homeStar=e}),id:"homeStarCheck"},null,512),[[i["p"],s.galaxyEditor.selectedStar.homeStar]]),Ee])]),Object(i["f"])("div",Ce,[Object(i["f"])("div",Me,[Object(i["t"])(Object(i["f"])("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=function(e){return s.galaxyEditor.selectedStar.isAsteroidField=e}),id:"astroidFieldCheck"},null,512),[[i["p"],s.galaxyEditor.selectedStar.isAsteroidField]]),Ie])]),Object(i["f"])("div",Pe,[Object(i["f"])("div",Fe,[Object(i["t"])(Object(i["f"])("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=function(e){return s.galaxyEditor.selectedStar.isBinaryStar=e}),id:"binaryStarCheck"},null,512),[[i["p"],s.galaxyEditor.selectedStar.isBinaryStar]]),Be])]),Object(i["f"])("div",Ge,[Object(i["f"])("div",He,[Object(i["t"])(Object(i["f"])("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=function(e){return s.galaxyEditor.selectedStar.isBlackHole=e}),id:"blackHoleCheck"},null,512),[[i["p"],s.galaxyEditor.selectedStar.isBlackHole]]),ze])]),Object(i["f"])("div",Ne,[Object(i["f"])("div",Ue,[Object(i["t"])(Object(i["f"])("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=function(e){return s.galaxyEditor.selectedStar.isNebula=e}),id:"nebulaCheck"},null,512),[[i["p"],s.galaxyEditor.selectedStar.isNebula]]),Ve])]),Object(i["f"])("div",Le,[Object(i["f"])("div",De,[Object(i["t"])(Object(i["f"])("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=function(e){return s.galaxyEditor.selectedStar.isPulsar=e}),id:"pulsarCheck"},null,512),[[i["p"],s.galaxyEditor.selectedStar.isPulsar]]),We])])]),Ye,Object(i["f"])("div",Je,[Xe,Object(i["f"])("div",qe,[Object(i["t"])(Object(i["f"])("select",{class:"form-select","onUpdate:modelValue":t[13]||(t[13]=function(e){return s.galaxyEditor.selectedStar.playerId=e})},[Ke,(Object(i["j"])(!0),Object(i["e"])(i["a"],null,Object(i["m"])(n.playerShapeAndColours,(function(e,t){return Object(i["j"])(),Object(i["e"])("option",{value:t,key:t},Object(i["o"])(e),9,Qe)})),128))],512),[[i["q"],s.galaxyEditor.selectedStar.playerId,void 0,{number:!0}]])])]),Object(i["f"])("div",Ze,[$e,Object(i["f"])("div",et,[Object(i["t"])(Object(i["f"])("select",{class:"form-select","onUpdate:modelValue":t[14]||(t[14]=function(e){return s.galaxyEditor.selectedStar.specialistId=e})},[tt,(Object(i["j"])(!0),Object(i["e"])(i["a"],null,Object(i["m"])(n.specialists,(function(e,t){return Object(i["j"])(),Object(i["e"])("option",{value:e.id,key:t},Object(i["o"])(e.name),9,at)})),128))],512),[[i["q"],s.galaxyEditor.selectedStar.specialistId,void 0,{number:!0}]])])]),Object(i["f"])("div",it,[rt,Object(i["f"])("div",st,[Object(i["t"])(Object(i["f"])("select",{class:"form-select","onUpdate:modelValue":t[15]||(t[15]=function(e){return s.galaxyEditor.selectedStar.wormHoleToStarId=e}),onInput:t[16]||(t[16]=function(){return n.updateWormHoleToStarId&&n.updateWormHoleToStarId.apply(n,arguments)})},[nt,(Object(i["j"])(!0),Object(i["e"])(i["a"],null,Object(i["m"])(n.stars,(function(e,t){return Object(i["j"])(),Object(i["e"])("option",{value:e.id,key:t,disabled:e.id===s.galaxyEditor.selectedStar.id||-1!==e.wormHoleToStarId},"Star #"+Object(i["o"])(e.id),9,ot)})),128))],544),[[i["q"],s.galaxyEditor.selectedStar.wormHoleToStarId,void 0,{number:!0}]])])]),lt,Object(i["f"])("div",ct,[Object(i["f"])("div",ut,[Object(i["f"])("button",{onClick:t[17]||(t[17]=function(){return n.updateStar&&n.updateStar.apply(n,arguments)}),class:"col-12 btn btn-warning"},"Update")]),Object(i["f"])("div",dt,[Object(i["f"])("button",{onClick:t[18]||(t[18]=function(){return n.destroyStar&&n.destroyStar.apply(n,arguments)}),class:"col-12 btn btn-danger"},"Destroy")])])])])):Object(i["d"])("",!0)}var ft={data:function(){return{galaxyEditor:A}},methods:{updateStar:function(){this.galaxyEditor.updateSelected()},destroyStar:function(){this.galaxyEditor.destroySelected()},updateSpecialistID:function(e){this.galaxyEditor.selectedStar.specialistId=e},updateWormHoleToStarId:function(e){var t=parseFloat(e.target.value);this.galaxyEditor.updateWormHoleToStarId(t)}},computed:{specialists:function(){return this.galaxyEditor.specialists},playerShapeAndColours:function(){return this.galaxyEditor.playerShapeAndColours},stars:function(){return this.galaxyEditor.stars}}};a("d147");const pt=F()(ft,[["render",ht]]);var bt=pt,yt={id:"brush-tool",class:""},mt={class:"container"},vt={class:"row"},gt=Object(i["f"])("div",{class:"col"},[Object(i["f"])("label",{class:"col-form-label"},"Brush Radius")],-1),Ot={class:"col-6"},xt={class:"row"},St=Object(i["f"])("div",{class:"col"},[Object(i["f"])("label",{for:"star-amount",class:"col-form-label"},"Star Amount")],-1),jt={class:"col-6"},kt=Object(i["g"])('<br><div class="row"><div class="col"><p><i class="text-success">Left Click</i> to place stars and <i class="text-success">Right Click</i> to delete them. If <i class="text-info">Star Amount</i> is 1, the star will be placed precisely at the cursor position, otherwise, multiple stars will be placed within <i class="text-info">Brush Radius</i></p><p><i class="text-success">Right Clicking</i> a star will only delete the star under the cursor.</p></div></div>',2);function wt(e,t,a,r,s,n){return Object(i["j"])(),Object(i["e"])("div",yt,[Object(i["f"])("div",mt,[Object(i["f"])("div",vt,[gt,Object(i["f"])("div",Ot,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[0]||(t[0]=function(e){return s.galaxyEditor.brushOptions.brushRadius=e})},null,512),[[i["r"],s.galaxyEditor.brushOptions.brushRadius,void 0,{number:!0}]])])]),Object(i["f"])("div",xt,[St,Object(i["f"])("div",jt,[Object(i["t"])(Object(i["f"])("input",{id:"star-amount",class:"form-control",type:"number","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.galaxyEditor.brushOptions.starAmount=e})},null,512),[[i["r"],s.galaxyEditor.brushOptions.starAmount,void 0,{number:!0}]])])]),kt])])}var Tt={data:function(){return{galaxyEditor:A}},methods:{onPixiTick:function(e){e&&(e=1),this.galaxyEditor.brushOptions.brushRadius!==this.lastSize&&this.updateBrushVisualizer(),this.lastSize=this.galaxyEditor.brushOptions.brushRadius,this.brushRadiusVisualizer.position=this.galaxyEditor.cursor},updateBrushVisualizer:function(){this.brushRadiusVisualizer.clear(),this.brushRadiusVisualizer.lineStyle(2,16777215,1),this.brushRadiusVisualizer.drawCircle(0,0,50*this.galaxyEditor.brushOptions.brushRadius),this.galaxyEditor.viewport.addChild(this.brushRadiusVisualizer)}},beforeMount:function(){this.galaxyEditor=A,document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)},mounted:function(){this.brushRadiusVisualizer=new p["g"],this.lastSize=this.galaxyEditor.brushOptions.brushRadius,this.pixiApp=this.galaxyEditor.app,this.updateBrushVisualizer(),this.pixiApp.ticker.add(this.onPixiTick.bind(this))}};a("d3df");const _t=F()(Tt,[["render",wt]]);var Rt=_t,At={id:"JSON-tools"},Et={class:"container",style:{height:"100%"}},Ct={class:"row"},Mt={class:"col-6"},It=Object(i["h"])("Load from JSON "),Pt=Object(i["f"])("i",{class:"fa fa-chevron-up"},null,-1),Ft=[It,Pt],Bt={class:"col-6"},Gt=Object(i["f"])("i",{class:"fa fa-chevron-down"},null,-1),Ht=Object(i["h"])(" Generate JSON"),zt=[Gt,Ht],Nt=Object(i["f"])("br",null,null,-1),Ut={class:"row",style:{height:"100%"}},Vt={class:"col-12",style:{height:"100%"}};function Lt(e,t,a,r,s,n){return Object(i["j"])(),Object(i["e"])("div",At,[Object(i["f"])("div",Et,[Object(i["f"])("div",Ct,[Object(i["f"])("div",Mt,[Object(i["f"])("button",{onClick:t[0]||(t[0]=function(){return n.loadFromJSON&&n.loadFromJSON.apply(n,arguments)}),class:"col-12 btn btn-primary"},Ft)]),Object(i["f"])("div",Bt,[Object(i["f"])("button",{onClick:t[1]||(t[1]=function(){return n.generateJSON&&n.generateJSON.apply(n,arguments)}),class:"col-12 btn btn-primary"},zt)])]),Nt,Object(i["f"])("div",Ut,[Object(i["f"])("div",Vt,[Object(i["t"])(Object(i["f"])("textarea",{class:"col-12","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.customJSON=e}),style:{height:"100%"}},null,512),[[i["r"],s.customJSON]])])])])])}var Dt={props:{galaxyEditor:Object},data:function(){return{customJSON:""}},methods:{generateJSON:function(){this.customJSON=this.galaxyEditor.generateJSON()},loadFromJSON:function(){this.galaxyEditor.loadFromJSON(this.customJSON)}}};a("ec8c");const Wt=F()(Dt,[["render",Lt]]);var Yt=Wt,Jt={id:"randomizer-tools",class:""},Xt={class:"container"},qt=Object(i["f"])("div",{class:"row"},[Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Position Range")])],-1),Kt={class:"row"},Qt={class:"col-3"},Zt={class:"col-3"},$t={class:"col-6"},ea=Object(i["f"])("i",{class:"fa fa-chevron-down"},null,-1),ta=Object(i["h"])(" Randomize Positions"),aa=[ea,ta],ia=Object(i["f"])("br",null,null,-1),ra=Object(i["f"])("br",null,null,-1),sa={class:"row"},na=Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Split Resources")],-1),oa={class:"col-6"},la={class:"container g-0"},ca=Object(i["f"])("div",{class:"row"},[Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Resources Range")])],-1),ua={class:"row"},da={class:"col-3"},ha={class:"col-3"},fa={class:"col-6"},pa=Object(i["f"])("i",{class:"fa fa-chevron-down"},null,-1),ba=Object(i["h"])("Randomize Resources"),ya=[pa,ba],ma={class:"container g-0"},va=Object(i["f"])("div",{class:"row"},[Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Economy Range")])],-1),ga={class:"row"},Oa={class:"col-3"},xa={class:"col-3"},Sa={class:"col-6"},ja=Object(i["f"])("i",{class:"fa fa-chevron-down"},null,-1),ka=Object(i["h"])("Randomize Economy"),wa=[ja,ka],Ta=Object(i["f"])("div",{class:"row"},[Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Industry Range")])],-1),_a={class:"row"},Ra={class:"col-3"},Aa={class:"col-3"},Ea={class:"col-6"},Ca=Object(i["f"])("i",{class:"fa fa-chevron-down"},null,-1),Ma=Object(i["h"])("Randomize Industry"),Ia=[Ca,Ma],Pa=Object(i["f"])("div",{class:"row"},[Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Science Range")])],-1),Fa={class:"row"},Ba={class:"col-3"},Ga={class:"col-3"},Ha={class:"col-6"},za=Object(i["f"])("i",{class:"fa fa-chevron-down"},null,-1),Na=Object(i["h"])("Randomize Science"),Ua=[za,Na],Va=Object(i["f"])("br",null,null,-1),La=Object(i["f"])("div",{class:"row"},[Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Asteroid Field Range")])],-1),Da={class:"row"},Wa={class:"col-6"},Ya={class:"col-6"},Ja=Object(i["f"])("i",{class:"fa fa-chevron-down"},null,-1),Xa=Object(i["h"])("Randomize Asteroids"),qa=[Ja,Xa],Ka=Object(i["f"])("div",{class:"row"},[Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Binary Star Range")])],-1),Qa={class:"row"},Za={class:"col-6"},$a={class:"col-6"},ei=Object(i["f"])("i",{class:"fa fa-chevron-down"},null,-1),ti=Object(i["h"])("Randomize Binary Stars"),ai=[ei,ti],ii=Object(i["f"])("div",{class:"row"},[Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Black Hole Range")])],-1),ri={class:"row"},si={class:"col-6"},ni={class:"col-6"},oi=Object(i["f"])("i",{class:"fa fa-chevron-down"},null,-1),li=Object(i["h"])("Randomize Black Holes"),ci=[oi,li],ui=Object(i["f"])("div",{class:"row"},[Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Nebula Range")])],-1),di={class:"row"},hi={class:"col-6"},fi={class:"col-6"},pi=Object(i["f"])("i",{class:"fa fa-chevron-down"},null,-1),bi=Object(i["h"])("Randomize Nebulas"),yi=[pi,bi],mi=Object(i["f"])("div",{class:"row"},[Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Pulsar Range")])],-1),vi={class:"row"},gi={class:"col-6"},Oi={class:"col-6"},xi=Object(i["f"])("i",{class:"fa fa-chevron-down"},null,-1),Si=Object(i["h"])("Randomize Pulsars"),ji=[xi,Si];function ki(e,t,a,r,s,n){return Object(i["j"])(),Object(i["e"])("div",Jt,[Object(i["f"])("div",Xt,[qt,Object(i["f"])("div",Kt,[Object(i["f"])("div",Qt,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[0]||(t[0]=function(e){return s.positionRange.min=e})},null,512),[[i["r"],s.positionRange.min,void 0,{number:!0}]])]),Object(i["f"])("div",Zt,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.positionRange.max=e})},null,512),[[i["r"],s.positionRange.max,void 0,{number:!0}]])]),Object(i["f"])("div",$t,[Object(i["f"])("button",{onClick:t[2]||(t[2]=function(){return n.randomizePositions&&n.randomizePositions.apply(n,arguments)}),class:"btn btn-primary col-12"},aa)])]),ia,ra,Object(i["f"])("div",sa,[na,Object(i["f"])("div",oa,[Object(i["t"])(Object(i["f"])("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=function(e){return s.splitResources=e})},null,512),[[i["p"],s.splitResources]])])]),Object(i["t"])(Object(i["f"])("div",la,[ca,Object(i["f"])("div",ua,[Object(i["f"])("div",da,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[4]||(t[4]=function(e){return s.resourcesAllRange.min=e})},null,512),[[i["r"],s.resourcesAllRange.min,void 0,{number:!0}]])]),Object(i["f"])("div",ha,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[5]||(t[5]=function(e){return s.resourcesAllRange.max=e})},null,512),[[i["r"],s.resourcesAllRange.max,void 0,{number:!0}]])]),Object(i["f"])("div",fa,[Object(i["f"])("button",{onClick:t[6]||(t[6]=function(){return n.randomizeResources&&n.randomizeResources.apply(n,arguments)}),class:"btn btn-primary col-12"},ya)])])],512),[[i["s"],!s.splitResources]]),Object(i["t"])(Object(i["f"])("div",ma,[va,Object(i["f"])("div",ga,[Object(i["f"])("div",Oa,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[7]||(t[7]=function(e){return s.resourcesRange.economy.min=e})},null,512),[[i["r"],s.resourcesRange.economy.min,void 0,{number:!0}]])]),Object(i["f"])("div",xa,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[8]||(t[8]=function(e){return s.resourcesRange.economy.max=e})},null,512),[[i["r"],s.resourcesRange.economy.max,void 0,{number:!0}]])]),Object(i["f"])("div",Sa,[Object(i["f"])("button",{onClick:t[9]||(t[9]=function(){return n.randomizeResourceEconomy&&n.randomizeResourceEconomy.apply(n,arguments)}),class:"btn btn-primary col-12"},wa)])]),Ta,Object(i["f"])("div",_a,[Object(i["f"])("div",Ra,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[10]||(t[10]=function(e){return s.resourcesRange.industry.min=e})},null,512),[[i["r"],s.resourcesRange.industry.min,void 0,{number:!0}]])]),Object(i["f"])("div",Aa,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[11]||(t[11]=function(e){return s.resourcesRange.industry.max=e})},null,512),[[i["r"],s.resourcesRange.industry.max,void 0,{number:!0}]])]),Object(i["f"])("div",Ea,[Object(i["f"])("button",{onClick:t[12]||(t[12]=function(){return n.randomizeResourceIndustry&&n.randomizeResourceIndustry.apply(n,arguments)}),class:"btn btn-primary col-12"},Ia)])]),Pa,Object(i["f"])("div",Fa,[Object(i["f"])("div",Ba,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[13]||(t[13]=function(e){return s.resourcesRange.science.min=e})},null,512),[[i["r"],s.resourcesRange.science.min,void 0,{number:!0}]])]),Object(i["f"])("div",Ga,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[14]||(t[14]=function(e){return s.resourcesRange.science.max=e})},null,512),[[i["r"],s.resourcesRange.science.max,void 0,{number:!0}]])]),Object(i["f"])("div",Ha,[Object(i["f"])("button",{onClick:t[15]||(t[15]=function(){return n.randomizeResourceScience&&n.randomizeResourceScience.apply(n,arguments)}),class:"btn btn-primary col-12"},Ua)])])],512),[[i["s"],s.splitResources]]),Va,La,Object(i["f"])("div",Da,[Object(i["f"])("div",Wa,[Object(i["t"])(Object(i["f"])("input",{class:"form-range v-center-range",type:"range","onUpdate:modelValue":t[16]||(t[16]=function(e){return s.asteroidFieldRange=e})},null,512),[[i["r"],s.asteroidFieldRange,void 0,{number:!0}]])]),Object(i["f"])("div",Ya,[Object(i["f"])("button",{onClick:t[17]||(t[17]=function(){return n.randomizeAsteroidFields&&n.randomizeAsteroidFields.apply(n,arguments)}),class:"btn btn-primary col-12"},qa)])]),Ka,Object(i["f"])("div",Qa,[Object(i["f"])("div",Za,[Object(i["t"])(Object(i["f"])("input",{class:"form-range v-center-range",type:"range","onUpdate:modelValue":t[18]||(t[18]=function(e){return s.binaryStarRange=e})},null,512),[[i["r"],s.binaryStarRange,void 0,{number:!0}]])]),Object(i["f"])("div",$a,[Object(i["f"])("button",{onClick:t[19]||(t[19]=function(){return n.randomizeBinaryStars&&n.randomizeBinaryStars.apply(n,arguments)}),class:"btn btn-primary col-12"},ai)])]),ii,Object(i["f"])("div",ri,[Object(i["f"])("div",si,[Object(i["t"])(Object(i["f"])("input",{class:"form-range v-center-range",type:"range","onUpdate:modelValue":t[20]||(t[20]=function(e){return s.blackHoleRange=e})},null,512),[[i["r"],s.blackHoleRange,void 0,{number:!0}]])]),Object(i["f"])("div",ni,[Object(i["f"])("button",{onClick:t[21]||(t[21]=function(){return n.randomizeBlackHoles&&n.randomizeBlackHoles.apply(n,arguments)}),class:"btn btn-primary col-12"},ci)])]),ui,Object(i["f"])("div",di,[Object(i["f"])("div",hi,[Object(i["t"])(Object(i["f"])("input",{class:"form-range v-center-range",type:"range","onUpdate:modelValue":t[22]||(t[22]=function(e){return s.nebulaRange=e})},null,512),[[i["r"],s.nebulaRange,void 0,{number:!0}]])]),Object(i["f"])("div",fi,[Object(i["f"])("button",{onClick:t[23]||(t[23]=function(){return n.randomizeNebulas&&n.randomizeNebulas.apply(n,arguments)}),class:"btn btn-primary col-12"},yi)])]),mi,Object(i["f"])("div",vi,[Object(i["f"])("div",gi,[Object(i["t"])(Object(i["f"])("input",{class:"form-range v-center-range",type:"range","onUpdate:modelValue":t[24]||(t[24]=function(e){return s.pulsarRange=e})},null,512),[[i["r"],s.pulsarRange,void 0,{number:!0}]])]),Object(i["f"])("div",Oi,[Object(i["f"])("button",{onClick:t[25]||(t[25]=function(){return n.randomizePulsars&&n.randomizePulsars.apply(n,arguments)}),class:"btn btn-primary col-12"},ji)])])])])}a("2af1");var wi={data:function(){return{galaxyEditor:A,positionRange:{min:0,max:.125},resourcesAllRange:{min:0,max:100},resourcesRange:{economy:{min:0,max:100},industry:{min:0,max:100},science:{min:0,max:100}},asteroidFieldRange:0,blackHoleRange:0,binaryStarRange:0,nebulaRange:0,pulsarRange:0,splitResources:!1}},methods:{randomizePositions:function(){var e,t=this.galaxyEditor.stars,a=Object(l["a"])(t);try{for(a.s();!(e=a.n()).done;){var i=e.value,r=this.positionRange.max-this.positionRange.min,s=(2*Math.random()-1)*r*50,n=(2*Math.random()-1)*r*50;i.location.x+=s+Math.sign(s)*this.positionRange.min*50,i.location.y+=n+Math.sign(n)*this.positionRange.min*50,i.updatePosition()}}catch(o){a.e(o)}finally{a.f()}},randomizeResources:function(){var e,t=this.galaxyEditor.stars,a=Object(l["a"])(t);try{for(a.s();!(e=a.n()).done;){var i=e.value,r=this.resourcesAllRange.max-this.resourcesAllRange.min,s=Math.floor(this.resourcesAllRange.min+this.resourcesRange.economy.min+r*Math.random());i.naturalResources.economy=s,i.naturalResources.industry=s,i.naturalResources.science=s,i._updateNaturalResourcesText()}}catch(n){a.e(n)}finally{a.f()}},randomizeResourceEconomy:function(){var e,t=this.galaxyEditor.stars,a=Object(l["a"])(t);try{for(a.s();!(e=a.n()).done;){var i=e.value,r=this.resourcesRange.economy.max-this.resourcesRange.economy.min;i.naturalResources.economy=Math.floor(this.resourcesRange.economy.min+r*Math.random()),i._updateNaturalResourcesText()}}catch(s){a.e(s)}finally{a.f()}},randomizeResourceIndustry:function(){var e,t=this.galaxyEditor.stars,a=Object(l["a"])(t);try{for(a.s();!(e=a.n()).done;){var i=e.value,r=this.resourcesRange.industry.max-this.resourcesRange.industry.min;i.naturalResources.industry=Math.floor(this.resourcesRange.industry.min+r*Math.random()),i._updateNaturalResourcesText()}}catch(s){a.e(s)}finally{a.f()}},randomizeResourceScience:function(){var e,t=this.galaxyEditor.stars,a=Object(l["a"])(t);try{for(a.s();!(e=a.n()).done;){var i=e.value,r=this.resourcesRange.science.max-this.resourcesRange.science.min;i.naturalResources.science=Math.floor(this.resourcesRange.science.min+r*Math.random()),i._updateNaturalResourcesText()}}catch(s){a.e(s)}finally{a.f()}},randomizeNebulas:function(){var e,t=this.galaxyEditor.stars,a=Object(l["a"])(t);try{for(a.s();!(e=a.n()).done;){var i=e.value,r=100*Math.random();i.isNebula=!1,r<this.nebulaRange&&(i.isNebula=!0),i._updateGraphics()}}catch(s){a.e(s)}finally{a.f()}},randomizeAsteroidFields:function(){var e,t=this.galaxyEditor.stars,a=Object(l["a"])(t);try{for(a.s();!(e=a.n()).done;){var i=e.value,r=100*Math.random();i.isAsteroidField=!1,r<this.asteroidFieldRange&&(i.isAsteroidField=!0),i._updateGraphics()}}catch(s){a.e(s)}finally{a.f()}},randomizeBlackHoles:function(){var e,t=this.galaxyEditor.stars,a=Object(l["a"])(t);try{for(a.s();!(e=a.n()).done;){var i=e.value,r=100*Math.random();i.isBlackHole=!1,r<this.blackHoleRange&&(i.isBlackHole=!0),i._updateGraphics()}}catch(s){a.e(s)}finally{a.f()}},randomizeBinaryStars:function(){var e,t=this.galaxyEditor.stars,a=Object(l["a"])(t);try{for(a.s();!(e=a.n()).done;){var i=e.value,r=100*Math.random();i.isBinaryStar=!1,r<this.binaryStarRange&&(i.isBinaryStar=!0),i._updateGraphics()}}catch(s){a.e(s)}finally{a.f()}},randomizePulsars:function(){var e,t=this.galaxyEditor.stars,a=Object(l["a"])(t);try{for(a.s();!(e=a.n()).done;){var i=e.value,r=100*Math.random();i.isPulsar=!1,r<this.pulsarRange&&(i.isPulsar=!0),i._updateGraphics()}}catch(s){a.e(s)}finally{a.f()}}}};a("b95e");const Ti=F()(wi,[["render",ki]]);var _i=Ti,Ri={id:"transform-tools",class:""},Ai={class:"container"},Ei={class:"row"},Ci=Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Centralize on Origin")],-1),Mi={class:"col-6"},Ii=Object(i["f"])("i",{class:"fa fa-chevron-down"},null,-1),Pi=Object(i["h"])("Centralize"),Fi=[Ii,Pi],Bi=Object(i["f"])("br",null,null,-1),Gi=Object(i["f"])("hr",null,null,-1),Hi={class:"row"},zi=Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Move to Origin")],-1),Ni={class:"col-6"},Ui=Object(i["f"])("i",{class:"fa fa-chevron-down"},null,-1),Vi=Object(i["h"])("Move"),Li=[Ui,Vi],Di=Object(i["f"])("br",null,null,-1),Wi=Object(i["f"])("hr",null,null,-1),Yi=Object(i["f"])("div",{class:"row"},[Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Scale")])],-1),Ji={class:"row"},Xi={class:"col-6"},qi={class:"col-6"},Ki=Object(i["f"])("i",{class:"fa fa-chevron-down"},null,-1),Qi=Object(i["h"])("Apply Scale"),Zi=[Ki,Qi],$i=Object(i["f"])("br",null,null,-1),er=Object(i["f"])("hr",null,null,-1),tr=Object(i["f"])("div",{class:"row"},[Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Rotate")])],-1),ar={class:"row"},ir=Object(i["f"])("div",{class:"col-5"},[Object(i["f"])("label",{class:"col-form-label"},"Copy and Rotate")],-1),rr={class:"col-1"},sr=Object(i["f"])("div",{class:"col-5"},[Object(i["f"])("label",{class:"col-form-label"},"Repeat")],-1),nr={class:"col-1"},or=Object(i["f"])("div",{class:"row"},[Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Fraction of a full rotation")])],-1),lr={class:"row"},cr={class:"col-6"},ur={class:"col-6"},dr=Object(i["f"])("i",{class:"fa fa-chevron-down"},null,-1),hr=Object(i["h"])("Apply Rotation"),fr=[dr,hr],pr=Object(i["f"])("br",null,null,-1),br=Object(i["f"])("hr",null,null,-1),yr=Object(i["f"])("div",{class:"row"},[Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Flip X")])],-1),mr={class:"row"},vr=Object(i["f"])("div",{class:"col-5"},[Object(i["f"])("label",{class:"col-form-label"},"Copy and Flip")],-1),gr={class:"col-1"},Or={class:"col-6"},xr=Object(i["f"])("i",{class:"fa fa-chevron-down"},null,-1),Sr=Object(i["h"])("Apply Flip"),jr=[xr,Sr],kr=Object(i["f"])("br",null,null,-1),wr=Object(i["f"])("hr",null,null,-1),Tr=Object(i["f"])("div",{class:"row"},[Object(i["f"])("div",{class:"col-6"},[Object(i["f"])("label",{class:"col-form-label"},"Flip Y")])],-1),_r={class:"row"},Rr=Object(i["f"])("div",{class:"col-5"},[Object(i["f"])("label",{class:"col-form-label"},"Copy and Flip")],-1),Ar={class:"col-1"},Er={class:"col-6"},Cr=Object(i["f"])("i",{class:"fa fa-chevron-down"},null,-1),Mr=Object(i["h"])("Apply Flip"),Ir=[Cr,Mr],Pr=Object(i["g"])('<br><br><div class="row"><div class="col"><p>The <i>pivot</i> for rotations/flips and the <i>anchor</i> for moving is the last clicked star. This star will not be duplicated, even when <i>Copy and rotatate/flip</i> are selected.</p><p>It is advised to backup the galaxy using the JSON tool and saving it to a plain text file before applying these operations.</p><p>The <i>repeat</i> option for rotation will repeat and copy the result until a full circle is filled</p><p>It is good practice to center the galaxy on the origin after the galaxy is finished.</p></div></div>',3);function Fr(e,t,a,r,s,n){return Object(i["j"])(),Object(i["e"])("div",Ri,[Object(i["f"])("div",Ai,[Object(i["f"])("div",Ei,[Ci,Object(i["f"])("div",Mi,[Object(i["f"])("button",{onClick:t[0]||(t[0]=function(){return n.centralizeGalaxy&&n.centralizeGalaxy.apply(n,arguments)}),class:"btn btn-primary col-12"},Fi)])]),Bi,Gi,Object(i["f"])("div",Hi,[zi,Object(i["f"])("div",Ni,[Object(i["f"])("button",{onClick:t[1]||(t[1]=function(){return n.moveToOrigin&&n.moveToOrigin.apply(n,arguments)}),class:"btn btn-primary col-12"},Li)])]),Di,Wi,Yi,Object(i["f"])("div",Ji,[Object(i["f"])("div",Xi,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.scaleMultiplier=e})},null,512),[[i["r"],s.scaleMultiplier,void 0,{number:!0}]])]),Object(i["f"])("div",qi,[Object(i["f"])("button",{onClick:t[3]||(t[3]=function(){return n.scaleGalaxy&&n.scaleGalaxy.apply(n,arguments)}),class:"btn btn-primary col-12"},Zi)])]),$i,er,tr,Object(i["f"])("div",ar,[ir,Object(i["f"])("div",rr,[Object(i["t"])(Object(i["f"])("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=function(e){return s.copyAndRotate=e})},null,512),[[i["p"],s.copyAndRotate]])]),sr,Object(i["f"])("div",nr,[Object(i["t"])(Object(i["f"])("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=function(e){return s.rotateRepeat=e})},null,512),[[i["p"],s.rotateRepeat]])])]),or,Object(i["f"])("div",lr,[Object(i["f"])("div",cr,[Object(i["t"])(Object(i["f"])("input",{class:"form-control",type:"number","onUpdate:modelValue":t[6]||(t[6]=function(e){return s.rotateFraction=e})},null,512),[[i["r"],s.rotateFraction,void 0,{number:!0}]])]),Object(i["f"])("div",ur,[Object(i["f"])("button",{onClick:t[7]||(t[7]=function(){return n.rotateGalaxy&&n.rotateGalaxy.apply(n,arguments)}),class:"btn btn-primary col-12"},fr)])]),pr,br,yr,Object(i["f"])("div",mr,[vr,Object(i["f"])("div",gr,[Object(i["t"])(Object(i["f"])("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=function(e){return s.copyAndFlipX=e})},null,512),[[i["p"],s.copyAndFlipX]])]),Object(i["f"])("div",Or,[Object(i["f"])("button",{onClick:t[9]||(t[9]=function(){return n.flipXGalaxy&&n.flipXGalaxy.apply(n,arguments)}),class:"btn btn-primary col-12"},jr)])]),kr,wr,Tr,Object(i["f"])("div",_r,[Rr,Object(i["f"])("div",Ar,[Object(i["t"])(Object(i["f"])("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=function(e){return s.copyAndFlipY=e})},null,512),[[i["p"],s.copyAndFlipY]])]),Object(i["f"])("div",Er,[Object(i["f"])("button",{onClick:t[11]||(t[11]=function(){return n.flipYGalaxy&&n.flipYGalaxy.apply(n,arguments)}),class:"btn btn-primary col-12"},Ir)])]),Pr])])}var Br=a("d5d3"),Gr={data:function(){return{galaxyEditor:A,copyAndFlipX:!1,copyAndFlipY:!1,copyAndRotate:!1,rotateRepeat:!1,rotateFraction:2,scaleMultiplier:1}},methods:{rotateGalaxy:function(){var e=this.galaxyEditor.stars,t=new Br(this.galaxyEditor.lastSelectedStar.location.x,this.galaxyEditor.lastSelectedStar.location.y);if(this.copyAndRotate){var a=1;this.rotateRepeat&&(a=this.rotateFraction-1);var i=e.length;while(a>0){for(var r=2*Math.PI/this.rotateFraction*a,s=0;s<i;s+=1){var n=e[s];if(n!=this.galaxyEditor.lastSelectedStar){var o=new Br(n.location.x-t.x,n.location.y-t.y),c=o.rotate(r,!0,!0),u={x:c.x+t.x,y:c.y+t.y};this.galaxyEditor.copyStar(n,u)}}a-=1}}else{var d,h=Object(l["a"])(e);try{for(h.s();!(d=h.n()).done;){var f=d.value,p=2*Math.PI/this.rotateFraction,b=new Br(f.location.x-t.x,f.location.y-t.y),y=b.rotate(p,!0,!0);f.location.x=t.x+y.x,f.location.y=t.y+y.y,f.updatePosition()}}catch(m){h.e(m)}finally{h.f()}}console.log(this.rotateRepeat)},flipYGalaxy:function(){var e=new Br(this.galaxyEditor.lastSelectedStar.location.x,this.galaxyEditor.lastSelectedStar.location.y),t=this.galaxyEditor.stars;if(this.copyAndFlipY)for(var a=t.length,i=0;i<a;i+=1){var r=t[i];if(r!=this.galaxyEditor.lastSelectedStar){var s=e.y-r.location.y,n=e.y+s,o={x:r.location.x,y:n};this.galaxyEditor.copyStar(r,o)}}else{var c,u=Object(l["a"])(t);try{for(u.s();!(c=u.n()).done;){var d=c.value,h=e.y-d.location.y;d.location.y=e.y+h,d.updatePosition()}}catch(f){u.e(f)}finally{u.f()}}},flipXGalaxy:function(){var e=new Br(this.galaxyEditor.lastSelectedStar.location.x,this.galaxyEditor.lastSelectedStar.location.y),t=this.galaxyEditor.stars;if(this.copyAndFlipX)for(var a=t.length,i=0;i<a;i+=1){var r=t[i];if(r!=this.galaxyEditor.lastSelectedStar){var s=e.x-r.location.x,n=e.x+s,o={x:n,y:r.location.y};this.galaxyEditor.copyStar(r,o)}}else{var c,u=Object(l["a"])(t);try{for(u.s();!(c=u.n()).done;){var d=c.value,h=e.x-d.location.x;d.location.x=e.x+h,d.updatePosition()}}catch(f){u.e(f)}finally{u.f()}}},scaleGalaxy:function(){var e,t=this.galaxyEditor.stars,a=Object(l["a"])(t);try{for(a.s();!(e=a.n()).done;){var i=e.value;i.location.x*=this.scaleMultiplier,i.location.y*=this.scaleMultiplier,i.updatePosition()}}catch(r){a.e(r)}finally{a.f()}},centralizeGalaxy:function(){var e,t=this.galaxyEditor.stars,a=this.galaxyEditor.getGalaxyCenter(),i=Object(l["a"])(t);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.location.x-=a.x,r.location.y-=a.y,r.updatePosition()}}catch(s){i.e(s)}finally{i.f()}},moveToOrigin:function(){var e,t=new Br(this.galaxyEditor.lastSelectedStar.location.x,this.galaxyEditor.lastSelectedStar.location.y),a=this.galaxyEditor.stars,i=Object(l["a"])(a);try{for(i.s();!(e=i.n()).done;){var r=e.value;r.location.x-=t.x,r.location.y-=t.y,r.updatePosition()}}catch(s){i.e(s)}finally{i.f()}}}};a("6730");const Hr=F()(Gr,[["render",Fr]]);var zr=Hr,Nr={components:{"tool-menu":G,"star-tool":bt,"json-tool":Yt,"brush-tool":Rt,"snapper-tool":Q,"randomizer-tool":_i,"transform-tool":zr},data:function(){return{galaxyEditor:A,currentMenu:null}},created:function(){window.addEventListener("resize",this.handleResize)},beforeMount:function(){this.galaxyEditor.createPixiApp()},mounted:function(){this.$refs.pixiApp.appendChild(this.galaxyEditor.app.view),this.galaxyEditor.on("onStarSelected",this.onStarSelected.bind(this))},unmounted:function(){this.galaxyEditor.destroy()},beforeUnmount:function(){window.removeEventListener("resize",this.handleResize),clearInterval(this.polling)},methods:{onMenuChanged:function(e){this.galaxyEditor.onMenuChanged(),this.currentMenu!==e?this.currentMenu=e:this.currentMenu=null},onStarSelected:function(){this.currentMenu="star"},handleResize:function(e){e&&console.log(),this.galaxyEditor.onResized()}}};a("a312");const Ur=F()(Nr,[["render",o],["__scopeId","data-v-832d1a3e"]]);var Vr=Ur,Lr={name:"App",components:{GalaxyEditorContainer:Vr}};a("924a");const Dr=F()(Lr,[["render",r]]);var Wr=Dr;a("1de3");Object(i["b"])(Wr).mount("#app")},"5c66":function(e,t,a){},"5cf8":function(e,t,a){e.exports=a.p+"img/pirate.e3c68482.svg"},"5eb0":function(e,t,a){e.exports=a.p+"img/power-generator.8b83fde9.svg"},"5f96":function(e,t,a){e.exports=a.p+"img/alien-egg.31803eff.svg"},"61cd":function(e,t,a){e.exports=a.p+"img/ray-gun.55acbfce.svg"},"620c":function(e,t,a){e.exports=a.p+"img/light-sabers.4d262d4e.svg"},6290:function(e,t,a){},"62f4":function(e,t,a){e.exports=a.p+"img/bubble-field.72db83c8.svg"},"64a5":function(e,t,a){e.exports=a.p+"img/ringed-planet.d967f24e.svg"},"65bd":function(e,t,a){e.exports=a.p+"img/sattelite.042219dc.svg"},6730:function(e,t,a){"use strict";a("cf0b")},"6b38":function(e,t,a){e.exports=a.p+"img/spoutnik.037d9f9f.svg"},"6b76":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABYSURBVHhe7daxDcAwCARA9l86TpEFLBtB0F1F739MAEC+5/WNwBl1AlqynNgjMZBCtSbyqjQhigAAjZQfZ65DmEevAX6qbIH7ObhHmmAWnQZ22RsAAGkiFoYcO8VezHJUAAAAAElFTkSuQmCC"},"6d2f":function(e,t,a){e.exports=a.p+"img/jet-fighter.4aa11a17.svg"},7124:function(e,t,a){e.exports=a.p+"img/hazmat-suit.327a81fe.svg"},7222:function(e,t,a){e.exports=a.p+"img/rocket-flight.7c0bdcac.svg"},"757d":function(e,t,a){e.exports=a.p+"img/vintage-robot.aaa995d3.svg"},"777b":function(e,t,a){e.exports=a.p+"img/mecha-head.74c06704.svg"},"7a7e":function(e,t,a){e.exports=a.p+"img/128x128_star_scannable_binary.fd235246.svg"},"7ee7":function(e,t,a){e.exports=a.p+"img/zat-gun.1a4e70f6.svg"},"80b2":function(e,t,a){e.exports=a.p+"img/missile-swarm.f1cf15ce.svg"},"869b":function(e,t,a){e.exports=a.p+"img/cryo-chamber.49dbe94f.svg"},"88a3":function(e,t,a){"use strict";a("1dfc")},"8ce3":function(e,t,a){e.exports=a.p+"img/starfighter.b4278072.svg"},"924a":function(e,t,a){"use strict";a("5c66")},"98f3":function(e,t,a){e.exports=a.p+"img/klingon.9a19c29b.svg"},"9acf":function(e,t,a){},a208:function(e,t,a){e.exports=a.p+"img/mecha-mask.3e2ac6dd.svg"},a312:function(e,t,a){"use strict";a("0be0")},a56e:function(e,t,a){e.exports=a.p+"img/techno-heart.6f8c8cd3.svg"},a697:function(e,t,a){e.exports=a.p+"img/megabot.03202feb.svg"},a6c7:function(e,t,a){e.exports=a.p+"img/laser-blast.1f6156e9.svg"},ab22:function(e,t,a){e.exports=a.p+"img/vortex.d50caafa.png"},aeeb:function(e,t,a){e.exports=a.p+"img/autogun.0f5a7ad3.svg"},b102:function(e,t,a){e.exports=a.p+"img/forward-field.f32174bd.svg"},b3c1:function(e,t,a){e.exports=a.p+"img/observatory.24cc8dad.svg"},b56b:function(e,t,a){e.exports=a.p+"img/strafe.a952f87e.svg"},b5af:function(e,t,a){},b95e:function(e,t,a){"use strict";a("261e")},c607:function(e,t,a){e.exports=a.p+"img/metroid.a76febec.svg"},c715:function(e,t,a){e.exports=a.p+"img/energise.e46e7573.svg"},c836:function(e,t,a){e.exports=a.p+"img/missile-pod.f30f5ad3.svg"},cf0b:function(e,t,a){},d044:function(e,t,a){e.exports=a.p+"img/128x128_star_scannable.7a8f9c8f.svg"},d147:function(e,t,a){"use strict";a("9acf")},d1f5:function(e,t,a){e.exports=a.p+"img/energy-tank.af0440b0.svg"},d318:function(e,t,a){e.exports=a.p+"img/targeting.e38bbb6f.svg"},d3df:function(e,t,a){"use strict";a("1bca")},d42e:function(e,t,a){e.exports=a.p+"img/alien-bug.e74a737c.svg"},d86f:function(e,t,a){e.exports=a.p+"img/metal-scales.bed9d927.svg"},d912:function(e,t,a){e.exports=a.p+"img/bolter-gun.575ac367.svg"},d9f0:function(e,t,a){e.exports=a.p+"img/rocket.452cc3c0.svg"},dd34:function(e,t,a){e.exports=a.p+"img/android-mask.48bc2da8.svg"},dfe6:function(e,t,a){e.exports=a.p+"img/robot-golem.db0e3106.svg"},e017:function(e,t,a){e.exports=a.p+"img/space-suit.97414ba2.svg"},e058:function(e,t,a){e.exports=a.p+"img/eclipse.3431e16c.svg"},e3b6:function(e,t,a){e.exports=a.p+"img/rocket-thruster.0fbdf862.svg"},e908:function(e,t,a){e.exports=a.p+"img/sentry-gun.c921ab41.svg"},ea96:function(e,t,a){e.exports=a.p+"img/double-ringed-orb.17c26031.svg"},ec8c:function(e,t,a){"use strict";a("6290")},ed42:function(e,t,a){e.exports=a.p+"img/star-nebula-0.d2cb5790.png"},eeea:function(e,t,a){e.exports=a.p+"img/laser-turret.b18cccea.svg"},f0b2:function(e){e.exports=JSON.parse('[{"alias":"Red","value":"0xff2d4a"},{"alias":"Green","value":"0x82ff26"},{"alias":"Pink","value":"0xff4bda"},{"alias":"Orange","value":"0xff7a2a"},{"alias":"Purple","value":"0x9c0fff"},{"alias":"Yellow","value":"0xdaff2f"},{"alias":"Blue","value":"0x00acec"},{"alias":"Cyan","value":"0x45ffc6"}]')},f719:function(e,t,a){"use strict";a("b5af")},f957:function(e,t,a){e.exports=a.p+"img/star-gate.cf65386b.svg"},fe7c:function(e,t,a){e.exports=a.p+"img/mechanical-arm.09b0a5f1.svg"},fe92:function(e,t,a){e.exports=a.p+"img/cannister.951167da.svg"}});
//# sourceMappingURL=app.6a678ee3.js.map